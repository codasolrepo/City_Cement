
@{
    ViewBag.Title = "Vendor";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@*<link href="/Content/angular-busy.min.css" rel="stylesheet" />*@
<script src="/Scripts/ui-bootstrap-tpls-0.12.1.min.js"></script>
<section role="main" class="content-body" ng-controller="VendorController">
    @*<header class="page-header">
        <div class="right-wrapper pull-right">
            <ol class="breadcrumbs">

                <li><span>Tools</span></li>
                <li><span>Vendor Detail</span></li>
            </ol>
        </div>
    </header>
    <header class="page-header alert-messages">
        <div class="col-md-12" style="background:#fff;min-height:36px;text-align:center">
            <div class="col-md-2"></div>
            <div class="col-md-6" style="margin:1px 0 1px 0;">
                <div class="alert" ng-show="NotifiyRes" ng-class="Notify">
                    <button type="button" class="close" ng-click="NotifiyRes = !NotifiyRes"><i class="fas fa-times"></i></button>
                    <label ng-bind="Res" class="erroe-hold" />
                </div>
            </div>
            <div class="col-md-4">
                <button ng-click="DownloadMfr()" ng-show="Vendors!=null && resdwn1!=false" class="download pull-right" title="Download Vendors"><a><i class="fa fa-download"></i>&nbsp; Download Vendor</a></button>&nbsp;&nbsp; 
                 <a class="download pull-right" ng-show="resdwn!=false" href="/Common/VendorTemplate.xlsx" ><i class="fa fa-download"></i>&nbsp; Download Template</a>
            </div>
        </div>
    </header>*@
    <header class="alert-messages">
        <div class="col-md-12">
               <div class="col-md-6"></div>
            <div class="col-md-2">
                <div cg-busy="cgBusyPromises" style="margin-top: -45px;z-index: 11111;position:fixed;width:50%"> </div>
            </div>
        </div>
    </header>
    <div class="col-md-12">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <div class="alert alert-top" ng-show="NotifiyRes" ng-class="Notify">
                <button type="button" class="close" ng-click="NotifiyRes = !NotifiyRes"><i class="fas fa-times"></i></button>
                <label ng-bind="Res" class="erroe-hold" />
            </div>
        </div>
        <div class="col-md-4"></div>
    </div>
    <div class="row">

        <div class="col-xs-12">
            <section class="panel">
                <header class="panel-heading">


                    <h2 class="panel-title">VENDOR DETAILS</h2>
                </header>

                <div class="form-group create-panels">
                    <div class="tabs create-panel">
                        <ul class="nav nav-tabs">
                            <li class="active">
                                <a href="#single"  ng-click="resdwn=false;resdwn1=true" data-toggle="tab">Single Entry</a>
                            </li>
                            <li>
                                <a href="#entry" data-toggle="tab" ng-click="resdwn=true;resdwn1=false">Bulk Upload</a>
                            </li>
                            <button ng-click="DownloadMfr()" ng-show="Vendors!=null && resdwn1!=false" class="btn btn-primary pull-right" title="Download Vendors"><a><i class="fa fa-download"></i>&nbsp; Download Vendor</a></button>&nbsp;&nbsp;
                            <a class="download pull-right" ng-show="resdwn!=false" href="/Common/VendorTemplate.xlsx"><i class="fa fa-download example-2"></i>&nbsp; Download Template</a>
                        </ul>
                        <div class="tab-content">
                            <div id="single" class="tab-pane active">
                                <form name="form" ng-submit="form.$valid && createVendor()" novalidate>

                                    <div class="row">

                                        @*<div class="col-sm-12">
                                                <div class="alert" ng-show="NotifiyRes" ng-class="Notify">
                                                    <button type="button" class="close" ng-click="NotifiyRes = !NotifiyRes"><i class="fas fa-times"></i></button>
                                                    <label ng-bind="Res" class="erroe-hold" />
                                                </div>
                                            </div>*@


                                        <div class="col-md-12">
                                            <div class="col-md-4">
                                                @*<div class="form-group">
                                                        <label class="col-md-4 control-label">Code </label>
                                                        <div class="col-md-8">
                                                            <input type="hidden" ng-model="vendor._id" /> <input name="code" ng-disabled="true" ng-model="vendor.Code" class="form-control" type="text">

                                                        </div>
                                                    </div>*@
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Short Desc Name</label>
                                                    <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.ShortNme.$invalid}">
                                                        <input name="ShortNme" ng-model="vendor.ShortDescName"  class="form-control" ng-minlength="2" ng-blur="vendor.ShortDescName=vendor.ShortDescName.toUpperCase();" ng-maxlength="8" type="text" required>
                                                        <div ng-show="form.ShortNme.$invalid" class="input-help">                                                           
                                                            <h4 ng-show="form.ShortNme.$error">Short Desc Name should be Min :2, Max :8 characters</h4>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Name</label>
                                                    <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.name.$invalid}">
                                                        <input name="name" maxlength="40" ng-model="vendor.Name" ng-blur="vendor.Name=vendor.Name.toUpperCase();" autocomplete="off" class="form-control immediate-help" type="text" auto-complete required>
                                                        <div ng-show="form.name.$invalid" class="input-help">
                                                            <h4 ng-show="form.name.$error.required">Name should not be blank</h4>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Name2</label>
                                                    <div class="col-md-8">
                                                        <input name="name2" ng-model="vendor.Name2" ng-blur="vendor.Name2=vendor.Name2.toUpperCase();" maxlength="40" class="form-control" type="text">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Name3</label>
                                                    <div class="col-md-8">
                                                        <input name="name3" maxlength="40" ng-model="vendor.Name3" ng-blur="vendor.Name3=vendor.Name3.toUpperCase();" class="form-control" type="text">

                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Name4</label>
                                                    <div class="col-md-8">
                                                        <input name="name4" maxlength="40" ng-model="vendor.Name4" ng-blur="vendor.Name4=vendor.Name4.toUpperCase();" class="form-control" type="text">

                                                    </div>
                                                </div>
                                              
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Address</label>
                                                    <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.address1.$invalid}">
                                                        <input name="address1" maxlength="60" ng-model="vendor.Address" autocomplete="off" class="form-control immediate-help" type="text" required>
                                                        <div ng-show="form.address1.$invalid" class="input-help">
                                                            <h4 ng-show="form.address1.$error.required">Address should not be blank</h4>

                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Address2</label>
                                                    <div class="col-md-8">
                                                        <input name="address2" maxlength="40" ng-model="vendor.Address2" class="form-control" type="text">

                                                    </div>
                                                </div>


                                            </div>
                                            <div class="col-md-4">
                                           
                                         
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Address3</label>
                                                    <div class="col-md-8">
                                                        <input name="address3" maxlength="40" ng-model="vendor.Address3" class="form-control" type="text">

                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Address4</label>
                                                    <div class="col-md-8">
                                                        <input name="address4" maxlength="40" ng-model="vendor.Address4" class="form-control" type="text">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">City</label>
                                                    <div class="col-md-8">
                                                        <input name="city" maxlength="40" ng-model="vendor.City" class="form-control" type="text">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Postal Code</label>
                                                    <div class="col-md-8">
                                                        <input name="postal" maxlength="10" ng-model="vendor.Postal" class="form-control" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">State</label>
                                                    <div class="col-md-8">
                                                        <input name="region" maxlength="30" ng-model="vendor.Region" class="form-control" type="text">

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Country</label>
                                                    <div class="col-md-8">
                                                        <input name="country" maxlength="30" ng-model="vendor.Country" class="form-control" type="text">
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label">Tel.No</label>
                                                    <div class="col-md-8">
                                                        <input name="phone" maxlength="30" ng-model="vendor.Phone" class="form-control" type="text">
                                                    </div>
                                                </div>
                                            </div>
                                                <div class="col-md-4">


                                                  


                                                 
                             

                                                  
                                                   

                                                    <div class="form-group">
                                                        <label class="col-md-4 control-label">Fax</label>
                                                        <div class="col-md-8">
                                                            <input name="fax" maxlength="30" ng-model="vendor.Fax" class="form-control" type="text">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-4 control-label">Mobile</label>
                                                        <div class="col-md-8">
                                                            <input name="mobile" maxlength="30" ng-model="vendor.Mobile" class="form-control" type="text">
                                                        </div>
                                                    </div>
                                                    <div class="form-group">
                                                        <label class="col-md-4 control-label">Email</label>
                                                        <div class="col-md-8">
                                                            <input name="email" maxlength="241" ng-model="vendor.Email" class="form-control" type="text">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="col-md-4 control-label">Website</label>
                                                        <div class="col-md-8">
                                                            <input name="email" maxlength="241" ng-model="vendor.Website" class="form-control" type="text">
                                                        </div>
                                                    </div>

                                                    <div class="form-group">
                                                        <label class="col-md-4 control-label">Acquired By</label>
                                                        <div class="col-md-8">
                                                            @*<input name="fax" maxlength="30" ng-model="vendor.Acquiredby" class="form-control" type="text">*@

                                                            @*<select class="form-control" id="ddlAcquire" ng-model="vendor.Acquiredby" ng-options="x.Code as x.Name for x in (VendorLst | filter:{'Enabled': true } | filter:{'Acquiredby':null}:true)">
                            <option value="" selected="selected">Select</option>
                        </select>*@
                                                            <input class="form-control" ng-model="vendor.AcquiredCompanyName" auto-complete type="text" />
                                                        </div>
                                                    </div>
                                                    @*<div class="form-group">
                                                        <label class="col-md-4 control-label">Enabled</label>
                                                        <div class="col-md-8">
                                                            <div class="checkbox-custom checkbox-default">
                                                                <input type="checkbox" ng-model="vendor.Enabled" ng-checked="vendor.Enabled" /><label for="checkboxExample1"></label>
                </div>

                                                            </div>
                                                    </div>*@

                                                  
                                                </div>
                                            <div class="form-group col-md-12">
                                                <div class="col-md-8"></div>
                                                <div class="col-md-4">
                                                    <button class="btn btn-primary" ng-show="btnSubmit" type="submit">Submit</button><button class="btn btn-primary" ng-show="btnUpdate" type="submit">Update</button>
                                                    &nbsp;&nbsp;<button class="btn btn-primary" ng-click="ClearFrm()" type="button">Reset</button>
                                                </div>
                                            
                                            </div>
                                            </div>
                                        <div class="col-md-12">
                                            <div class="table-responsive" ng-show="Vendors!=null">
                                                <div class="col-md-4">
                                                    <select ng-model="selecteditem" ng-change="ddlItems()" ng-options="lst for lst in [10,25,50,100]"></select>
                                                </div>
                                                <div class="control-label col-md-4">
                                                    No.of.Records: <label ng-bind="len" />
                                                </div>
                                                <div class="control-label col-md-1" style="text-align:right;">
                                                    Search
                                                </div><div class="col-md-3">
                                                    <input class="form-control" ng-model="srchText" ng-blur="SearchVendorList()" type="text" />
                                                </div>
                                                <table class="table table-bordered mb-none">
                                                    <thead class="top-border">
                                                        <tr>
                                                            <th>Code</th>
                                                            <th>Short Desc Name</th>
                                                            <th>Name</th>
                                                            <th>Address</th>
                                                            <th>Acquired By</th>
                                                            <th>Actions</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>

                                                        <tr id="{{$index}}" ng-repeat="x in Vendors | orderBy:'-Enabled'">
                                                            <td><label>{{x.Code}}</label></td>
                                                            <td><label>{{x.ShortDescName}}</label></td>
                                                            <td><label>{{x.Name}} {{x.Name2}} {{x.Name3}} {{x.Name4}}</label></td>

                                                            <td><label>{{x.Address}} {{x.Address2}} {{x.Address3}} {{x.Address4}}</label></td>

                                                            <td><label>{{x.AcquiredCompanyName}}  {{x.Acquiredby}}</label></td>
                                                            <td class="actions">
                                                                <a ng-click="Vendoredit(x,$index)" class="on-default edit-row"><i class="fa fa-pencil-alt"></i></a>&nbsp;<label class="switch">
                                                                    <input type="checkbox" ng-model="x.Enabled" ng-checked="x.Enabled" ng-click="VendorDel($index,x.Enabled,x._id)">
                                                                    <div class="slider round"></div>
                                                                </label>
                                                                <a ng-click="VendorDel(x._id)" style="display:none" class="on-default remove-row"><i class="fa fa-trash-alt"></i></a>
                                                            </td>
                                                        </tr>

                                                    </tbody>
                                                </table>

                                                <pagination ng-model="currentPage"
                                                            total-items="totItem"
                                                            items-per-page="numPerPage"
                                                            max-size="10"
                                                            boundary-links="true"
                                                            ng-click="BindVendorinx(currentPage)">
                                                </pagination>

                                            </div>

                                        </div>
                                    </div>

                                </form>
                            </div>
                            <div id="entry" class="tab-pane">
                                <div class="panel-body" ng-controller="BulkVendorController">
                                    <form name="form1" ng-submit="form1.$valid && BulkVendor()" novalidate>
                                        <div class="panel-body">
                                            <div class="row">

                                                <div class="col-md-12">

                                                    <label class="col-md-2 control-label">File Upload</label>
                                                    <div class="col-md-5">
                                                        <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                                                            <div class="form-control" data-trigger="fileinput"><i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
                                                            <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">Select file</span><span class="fileinput-exists">Change</span><input type="file" name="..." onchange="angular.element(this).scope().LoadFileData(this.files)"></span>
                                                            <a href="#" class="input-group-addon btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-1">
                                                        <button class="btn btn-primary" ng-disabled="false != ShowHide">Submit</button>&nbsp;
                                                    </div>
                                                    @*<div class="col-md-1"><div cg-busy="promise"></div></div>*@
                                                    <div class="col-md-1"></div>

                                                </div>



                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>


    </div>




</section>
@*<script src="/Scripts/angular-busy.min.js"></script>*@
<script src="/Scripts/ctrls/Ventor1ctrl.js"></script>