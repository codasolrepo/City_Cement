
@{ ViewBag.Title = "Review";
    Layout = "~/Views/Shared/_Layout.cshtml"; }
<style>
</style>
<link href="~/Content/css/jquery.magnify.css" rel="stylesheet" />
<link href="~/Content/jBox.css" rel="stylesheet" />
<link href="~/Content/angular-busy.min.css" rel="stylesheet" />
<section role="main" class="content-body" ng-controller="CatalogueController">
    <style>
        .enlarge {
            list-style-type: none; /*remove the bullet point*/
            margin-left: 0;
        }

            .enlarge a {
                display: inline-block; /*places the images in a line*/
                position: relative;
                z-index: 0; /*resets the stack order of the list items - later we'll increase this*/
            }

            .enlarge span {
                position: absolute;
                left: -9999px;
                box-shadow: 0 0 20px rgba(0,0,0, .75);
                -webkit-border-radius: 8px;
                -moz-border-radius: 8px;
                border-radius: 8px;
            }

            .enlarge a:hover {
                z-index: 1111;
                cursor: pointer;
            }

            .enlarge span img {
                padding: 2px;
                background: #ccc;
            }

            .enlarge a:hover span {
                top: -300px; /*the distance from the bottom of the thumbnail to the top of the popup image*/
                left: -20px; /*distance from the left of the thumbnail to the left of the popup image*/
            }

        table {
            width: 100%;
            table-layout: fixed;
        }

        .tbl-content {
            overflow-x: auto;
            margin-top: 0px;
        }

        th {
            text-align: left;
        }

        td {
            text-align: left;
            vertical-align: middle;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        }

        ::-webkit-scrollbar-thumb {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        }

        .sample-arrow {
            position: relative;
        }

            .sample-arrow:hover::before {
                position: absolute;
                content: "\f107";
                top: 0px;
                right: -8px;
                height: 20px;
                width: 20px;
                font-family: 'Font Awesome 5 Free';
            }
        .fixTableHead {
            overflow-y: auto;
            height: 250px;
        }

            .fixTableHead thead th {
                position: sticky;
                top: 0;
            }
        .clf-error {
            border: 1px solid red;
            background: #F0E68C;
        }
    </style>

    <header class="alert-messages">
        <div class="col-md-12">
            <div class="col-md-6"></div>
            <div class="col-md-2">
                <div cg-busy="cgBusyPromises" style="margin-top: -45px;z-index: 11111;position:fixed;width:50%"> </div>
            </div>
        </div>
    </header>
    <div class="col-md-12">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <div class="alert alert-top" ng-show="NotifiyRes" ng-class="Notify">
                <button type="button" class="close" ng-click="NotifiyRes = !NotifiyRes"><i class="fas fa-times"></i></button>
                <label ng-bind="Res" class="erroe-hold" />
            </div>
        </div>
        <div class="col-md-4"></div>
    </div>
    <div class="row">

        <div class="col-xs-12">
            <form name="form" id="ganForm" ng-submit="checkDuplicate(form.$valid)" novalidate>
                <section class="panel form-wizard" id="w4">
                    <header class="panel-heading">
                        <h2 class="panel-title">
                            CATALOGUE
                            <span style="padding-left:20px;">Saved : {{saveditems}} , Balance : {{balanceitems}}</span>
                            <div class="card-actions" style="text-transform:capitalize">
                                <ul style="list-style:none;padding-left:5px;">
                                    <li style="float: left;margin-left:10px;line-height: 14px;"><span style="border: 1px solid #000;background: lightblue;float: left;width: 12px;height: 12px"></span>&nbsp;Selected Item</li>
                                    <li style="float: left;margin-left:10px;line-height: 14px;"><span style="border: 1px solid #000;background: #ac9898;float: left;width: 12px;height: 12px"></span>&nbsp;Saved</li>
                                    <li style="float: left;margin-left:10px;line-height: 14px;"><span style="border: 1px solid #000;background: #FF7F50;float: left;width: 12px;height: 12px"></span>&nbsp;Rework</li>
                                    <li style="float: left;margin-left:10px;line-height: 14px;"><span style="border: 1px solid #000;background: #e6b7c6;float: left;width: 12px;height: 12px"></span>&nbsp;Pv Data</li>
                                    <li style="float: left;margin-left:10px;line-height: 14px;"><span style="border: 1px solid #000;background: #d8b655;float: left;width: 12px;height: 12px"></span>&nbsp;Unmapped</li>

                                </ul>
                            </div>
                            <a href="@Url.Action("Catdownload","Report", new { id="qc" })" target="_blank" style="float:right;color:#000000;text-decoration:none">&nbsp;Download</a>
                            @*<span style="text-transform:capitalize"><a href="@Url.Action("Catview","Catalogue")" target="_blank" style="float:right;color:#000000;text-decoration:none">&nbsp;&nbsp;&nbsp;&nbsp;| Go to Excel View</a></span>*@
                        </h2>
                    </header>

                    <div class="panel-body">

                        <div class="table-responsive">
                            <div class="fixTableHead">
                                <input type="hidden" id="usrHid" value="@Request.RequestContext.HttpContext.Session["username"]" />

                                <table class="table table-bordered">
                                    <thead class="top-border" align="center">
                                        <tr>

                                            <th colspan="2">
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <!-- Single search box -->
                                                        <input type="text"
                                                               placeholder="Search Code"
                                                               class="form-control"
                                                               ng-model="sCode"
                                                               ng-change="searchMaster()" />
                                                    </div>
                                                </div>
                                                <div class="row mt-1">
                                                    <div class="col-md-12 d-flex justify-content-between">
                                                        <!-- Sort for Itemcode -->
                                                        <span ng-click="sortData('Itemcode')">
                                                            Item code <span ng-class="getSortClass('Itemcode')"></span>&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;|&ensp;Material code <span ng-class="getSortClass('Materialcode')"></span>
                                                        </span>
                                                    </div>
                                                </div>
                                            </th>

                                            <!--<th>-->
                                            @*<input type="text" placeholder="Code" class="form-control" ng-model="sCode" ng-blur="searchMaster()" />*@
                                            <!--<span>Legacy Item Code</span>
                        </th>-->
                                            <th>
                                                <input type="text" placeholder="Source Description" class="form-control" ng-model="sSource" ng-blur="searchMaster()" />
                                                <span ng-click="sortData('Legacy')">Legacy<div ng-class="getSortClass('Legacy')"></div></span>

                                            </th>
                                            @*<th>
                                <input type="text" placeholder="Short Desc" class="form-control" ng-model="sShort" ng-blur="searchMaster()" />
                                <span ng-click="sortData('Shortdesc')"> Short Desc <div ng-class="getSortClass('Shortdesc')"></div></span>

                            </th>
                            <th>
                                <input type="text" placeholder="Long Desc" class="form-control" ng-model="sLong" ng-blur="searchMaster()" />
                                <span>Long Desc</span>
                            </th>*@
                                            <th>
                                                <select ng-model="sNoun" class="form-control" ng-change="searchMaster()" ng-options="x.Noun as x.Noun for x in NounList | unique:'Noun'">
                                                    <option value="" selected="selected">All</option>
                                                </select>
                                                <span ng-click="sortData('Noun')">Noun</span>
                                            </th>
                                            <th>
                                                <select ng-model="sModifier" class="form-control" ng-change="searchMaster()" ng-options="x.Modifier as x.Modifier for x in NounList | filter:{'Noun':sNoun}:true | unique:'Modifier'">
                                                    <option value="" selected="selected">All</option>
                                                </select>
                                                <span ng-click="sortData('Modifier')">Modifier</span>
                                            </th>
                                            <th style="width:10%">
                                                <select ng-model="sUser" class="form-control" ng-change="searchMaster()" ng-options="x for x in UserList">
                                                    <option value="" selected="selected">All</option>
                                                </select>
                                                <span>Catalog/QC/QA</span>
                                            </th>
                                            @*<th style="width:2%;">
                                <select ng-model="sType" ng-change="searchMaster()" class="form-control">
                                    <option value="" selected="selected">All</option>
                                    <option>STOCK</option>
                                    <option>NONSTOCK</option>
                                </select>
                            </th>*@
                                            <th>
                                                <select ng-model="sStatus" ng-change="searchMaster()" class="form-control">
                                                    <option value="" selected="selected">All</option>
                                                    <option>Catalogue</option>
                                                    <option>Catalogue Rework</option>
                                                    <option>Clarification</option>
                                                    <option>QC</option>
                                                    <option>QC Rework</option>
                                                    <option>QA</option>
                                                    <option>Released</option>

                                                </select>
                                                <span>Status</span>
                                            </th>
                                            <th style="width:8%">Stock Status</th>
                                            <th style="width:8%">PV Date</th>
                                            <th style="width:4%;z-index:101;">
                                                Select
                                                <span>
                                                    <div class="checkbox-custom checkbox-default" style="margin-left:4px;display:none">
                                                        <input type="checkbox" ng-model="bumu" ng-true-value="1" ng-checked="bumu == 1" ng-false-value="0" ng-click="chkmuall()" id="muall" /> <label for="checkboxExample11"></label>
                                                    </div>
                                                </span>
                                            </th>


                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr id="{{$index}}" ng-click="RowClick(cat1,$index)" ng-class="cat1.ItemStatus==3?'trsaved':((cat1.ItemStatus==2 || cat1.ItemStatus==3) && cat1.Rework !=null ) ?'trrework':''" ng-repeat="cat1 in DataList | orderBy:sortColumn : reverseSort ">
                                            <td><label ng-bind="cat1.Itemcode"></label> </td>
                                            <td><label ng-bind="cat1.Materialcode"></label></td>
                                            @*<td><label ng-bind="cat1.Legacy2"></label></td>*@
                                            <td title={{cat1.Legacy}}><label ng-bind="cat1.Legacy.length > 15 ? (cat1.Legacy | limitTo: 15) +'...' : cat1.Legacy"></label></td>
                                            @*<td title={{cat1.Shortdesc}}><label ng-bind="cat1.Shortdesc.length >15 ? (cat1.Shortdesc | limitTo: 15) +'...' : cat1.Shortdesc"></label></td>
            <td title={{cat1.Longdesc}}><label ng-bind="cat1.Longdesc.length >15 ? (cat1.Longdesc | limitTo: 15) +'...' : cat1.Longdesc"></label></td>*@
                                            <td><label ng-bind="cat1.Noun"></label></td>
                                            <td><label ng-bind="cat1.Modifier"></label>@*<a class="pull-right" ng-show="cat1.Attachment!=null && cat1.Attachment!=''" href="/Attachment/{{cat1.Attachment}}" target="_blank"><i class="fa fa-paperclip fa-2x"></i></a>*@</td>
                                            <td style="width:10%"><label ng-bind="cat1.Catalogue.Name"></label>|<label ng-bind="cat1.Review.Name"></label>|<label ng-bind="cat1.Release.Name"></label></td>
                                            @*<td style="width:2% !important"><label ng-bind="cat1.Junk"></label></td>*@
                                            <td><label ng-bind="(cat1.ItemStatus==5 || cat1.ItemStatus==4) ? cat1.Duplicates='QA':(cat1.ItemStatus== -1) ? cat1.Duplicates='Clarification': (cat1.ItemStatus==2 || cat1.ItemStatus==3) ? cat1.Duplicates='QC':(cat1.ItemStatus==6)? cat1.Duplicates='Released':'Catalogue'"></label></td>
                                            <td><label ng-bind="cat1.Stock_Status"></label></td>
                                            @*<td width="5%"><label>{{cat1.PVuser.UpdatedOn =='/Date(-62135596800000)/'?'': cat1.PVuser.UpdatedOn.replace('/Date(','').replace(')/','') | date:"dd/MM/yyyy"}}</label> </td>*@
                                            <td width="5%">
                                                <label>
                                                    {{ cat1.PVuser.UpdatedOn.replace('/Date(','').replace(')/','') | date:'dd/MM/yyyy':'UTC' }}
                                                </label>
                                            </td>
                                            <td style="width:4%">
                                                <div class="checkbox-custom checkbox-default" style="margin-left:10px;">
                                                    <input type="checkbox" ng-model="cat1.bu" ng-true-value="1" ng-checked="cat1.bu == 1" ng-false-value="0" id="chksss{{$index}}" /> <label for="checkboxExample1"></label>

                                                </div>
                                            </td>
                                        </tr>


                                    </tbody>
                                </table>
                            </div>
                        </div>


                        <div class="tabs form-group" ng-show="showlist">
                            <ul class="nav nav-tabs">
                                <li class="{{desctab}}">
                                    <a href="#Source" data-toggle="tab" aria-expanded="false"><i class="fa fa-file-alt"></i> Description</a>
                                </li>
                                <li class="">
                                    <a href="#Physical" data-toggle="tab" aria-expanded="false"><i class="fas fa-user-secret"></i> Physical Observation</a>
                                </li>
                                <li class="{{planttab}}">
                                    <a href="#Plant" data-toggle="tab" aria-expanded="true"><i class="fa fa-industry"></i> Warehouse</a>
                                </li>

                                <li class="{{unspscact}}">
                                    <a href="#Unspsc" data-toggle="tab" aria-expanded="false"><i class="fa fa-book"></i> UNSPSC Logic</a>
                                </li>
                                <li class="">
                                    <a href="#Attach" data-toggle="tab" aria-expanded="false"><i class="fa fa-paperclip"></i> Attachment<div ng-show="attcount1"><span style="background-color: #f00;color: #fff;position: absolute;top: -2px;width: 14px;height: 14px;border-radius: 50%;text-align: center;left: 88px;" ng-bind="attcount"></span></div> </a>
                                </li>
                            </ul>
                            <div class="tab-content">
                                <div id="Source" class="tab-pane {{desctab}}">
                                    <div class="col-md-12 no-padding form-group" data-spy="affix" data-offset-top="197">
                                        <div class="col-md-12 no-padding" style="display: flex; align-items: center;">
                                            <div class="col-md-6 no-padding form-group" ng-show="cat.Legacy!=null">

                                                <label class="col-md-4 control-label" for="textareaDefault">Legacy Data</label>
                                                <div class="col-md-8">
                                                    <input type="hidden" ng-model="cat._id" /> <input type="hidden" ng-model="cat.Itemcode" />
                                                    <label class="label-disc ng-binding" style="word-break:break-all;" ng-bind="cat.Legacy"> </label>

                                                    @*<textarea class="form-control" readonly name="legacy" rows="3" ng-model="cat.Legacy"></textarea>*@

                                                </div>
                                            </div>
                                            <div class="col-md-3 no-padding">

                                                <label class="col-md-6 control-label" for="textareaDefault">Status</label>
                                                <div class="col-md-6" ng-class="{'has-error': form.$submitted && (form.iStatus.$invalid || form.iStatus.$error.required)}">
                                                    @*<label class="label-disc ng-binding" style="word-break:break-all;" ng-bind="cat.Legacy2"> </label>*@
                                                    <select ng-model="cat.Specification" name="iStatus" required class="form-control">
                                                        <option value="Cleansed">Cleansed</option>
                                                        <option value="Enriched">Enriched</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="col-md-3 no-padding" style="display: flex; align-items: center;">

                                                <label class="col-md-6 control-label" for="textareaDefault">Old Materialcode</label>
                                                <div class="col-md-6" ng-class="{'has-error': form.$submitted && (form.iStatus.$invalid || form.iStatus.$error.required)}">
                                                    <label class="label-disc ng-binding" style="word-break:break-all;" ng-bind="cat.exMaterialcode"> </label>
                                                </div>
                                            </div>

                                        </div>
                                        <div class="col-md-12 no-padding">
                                            <label class="col-md-2 control-label" for="textareaDefault">Long Legacy Data</label>
                                            <div class="col-md-10">
                                                <label class="label-disc ng-binding" style="word-break:break-all;" ng-bind="cat.Legacy2"> </label>

                                            </div>
                                        </div>
                                        <div class="col-md-6 no-padding" style="margin-top: 10px;">
                                            @*<div class="from-group" ng-show="cat.Legacy!=null">
                            <label class="col-md-2 control-label" for="textareaDefault">Additional Legacy</label>
                            <div class="col-md-10">
                                <label class="label-disc ng-binding" ng-bind="cat.Legacy2"> </label>
                            </div>
                        </div>*@
                                            @*<label class="col-md-1 control-label" for="textareaDefault" style="text-align:right;">UOM<span style="color:red;font-weight:bold">*</span></label>
                        <div class="col-md-3 controls" ng-class="{'has-error': form.$submitted && form.uomname1.$invalid }">
                            <select ng-model="cat.UOM" name="uomname1" class="form-control" ng-options="x.UOMDESC as x.UOMNAME for x in uomList1" required>
                                <option value="" selected="selected">Select </option>
                            </select>

                        </div>
                        <div ng-hide="Type == '' || Type == null" class="col-md-4">
                            <label class="col-md-7 control-label" for="textareaDefault">Item Type</label>
                            <label class="col-md-4 control-label no-padding" style="color:saddlebrown;font-size:18px">{{Type}}</label>


                        </div>*@
                                            @*<label class="col-md-3 control-label no-padding" for="textareaDefault">Exceptional</label>
                        <div class="col-md-1 no-padding">
                            <div class="checkbox-custom checkbox-default">
                                <input type="checkbox" ng-model="cat.Exchk" ng-click="Exceptional()" /><label for="checkboxExample1"></label>
                            </div>
                        </div>*@
                                            @*<div class="form-group" ng-show="Legacy1">
                            <div class="col-md-3 no-padding">
                                <select ng-model="Key" ng-change="searchby(Key)" class="form-control">
                                    <option value="" selected="selected">Legacy Search</option>
                                    <option>Noun-Modifier</option>
                                </select>
                            </div>
                            <div class="col-md-8 no-padding">
                                <textarea class="form-control" ng-model="cat.Legacy1" rows="1"></textarea>
                            </div>
                            <div class="col-md-1">
                                <button type="button" ng-hide="search" class="btn btn-primary btn-xs" ng-click="clickToOpen(cat.Legacy1,cat.Legacy,cat.Itemcode)"><i class="fa fa-search"></i></button>
                            </div>
                        </div>*@
                                            @*<div class="form-group" ng-show="Legacy1">
                            <label class="col-md-2 control-label no-padding" for="textareaDefault">Legacy Search</label>
                            <div class="col-md-8">

                                <textarea class="form-control ng-pristine ng-untouched ng-valid ng-empty" ng-model="cat.Legacy1" rows="1"></textarea>
                            </div>
                            <div class="col-md-2 no-padding">
                                <button type="button" class="btn btn-primary btn-xs" ng-click="clickToOpen(cat.Legacy1,cat.Legacy,cat.Itemcode)"><i class="fa fa-search"></i></button>
                            </div>
                        </div>*@

                                        </div>
                                    </div>
                                    <div class="col-md-12 no-padding form-group">
                                    </div>
                                    @*<div class="form-group" ng-show="codeLogic">
                    <label class="col-md-1 control-label" for="textareaDefault">Main Code</label>
                    <div class="col-md-2" ng-class="{'has-error': form.$submitted && form.drpMain.$invalid }">
                        <select ng-model="cat.Maincode" style="{{Maincode3}}" class="form-control" name="drpMain" ng-change="getSubcode()" ng-options="x.code as x.title for x in Groupcodes" ng-required="req_maincode">
                            <option value="">Select</option>
                        </select>

                    </div>
                    <label class="col-md-1 control-label" for="textareaDefault" style="text-align:right;">Sub Code</label>
                    <div class="col-md-3" ng-class="{'has-error': form.$submitted && form.drpSub.$invalid}">
                        <select ng-model="cat.Subcode" style="{{Subcode3}}" class="form-control" name="drpSub" ng-change="getSubsubcode()" ng-options="x.code as x.title for x in getsubgroup" ng-required="req_maincode">
                            <option value="">Select</option>
                        </select>

                    </div>
                    <label class="col-md-2 control-label" for="textareaDefault" style="text-align:right;">Sub Sub Code</label>
                    <div class="col-md-3" ng-class="{'has-error': form.$submitted && form.drpSubsub.$invalid}">
                        <select ng-model="cat.Subsubcode" ng-change="subsubcodechange()" class="form-control" style="{{Subsubcode3}}" name="drpSubsub" ng-options="x.SubSubGroupCode as x.SubSubGroupTitle for x in getSubsubgroup" ng-required="req_maincode">
                            <option value="">Select</option>
                        </select>

                    </div>



                </div>*@

                                    @*<div class="form-group">

                    <label class="col-md-1 control-label" for="textareaDefault">Noun<span style="color:red;font-weight:bold">*</span></label>
                    <div class="col-md-2" ng-class="{'has-error': form.$submitted && form.nun.$invalid || form.nun.$error.pattern}">

                        <input type="text" class="form-control immediate-help" name="nun" ng-pattern="/^(\D)+$/" ng-model="cat.Noun" ng-blur="NM.Noun=NM.Noun.toUpperCase();" ng-change="loadmodifier(cat.Noun.toUpperCase())" autofocus auto-complete required style="width:90%;float:left;">
                        <a href="#" ng-hide="NM1.NounDefinition==null||NM1.NounDefinition==''" data-tooltip={{NM1.NounDefinition}} class="tool-tip-hover" style="width:10%;float:left;"><img src="~/Content/images/im.gif" /></a>


                        <div ng-show="form.nun.$invalid" class="input-help">
                            <h4 ng-show="form.nun.$error.required">Noun should not be blank</h4>
                            <h4 ng-show="form.nun.$error.pattern">Enter characters only</h4>

                        </div>
                    </div>
                    <label class="col-md-1 control-label" for="textareaDefault" style="text-align:right;">Modifier<span style="color:red;font-weight:bold">*</span></label>
                    <div class="col-md-2" ng-class="{'has-error': form.$submitted && (form.modll.$invalid || form.modll.$error.required)}">
                        <select ng-model="cat.Modifier" class="form-control" name="modll" ng-required="true" ng-change="ChangeModifier()" ng-options="x.Modifier as x.Modifier for x in Modifiers" style="width:90%;float:left;">

                            <option value="">Select</option>
                        </select>
                        <a href="#" ng-hide="NM1.ModifierDefinition==null||NM1.ModifierDefinition==''" data-tooltip={{NM1.ModifierDefinition}} class="tool-tip-hover" style="width:10%;float:left;"><img src="~/Content/images/im.gif" /></a>
                    </div>

                    <label class="col-md-1 control-label" for="textareaDefault" style="text-align:right;">UOM<span style="color:red;font-weight:bold">*</span></label>
                    <div class="col-md-1 controls" ng-class="{'has-error': form.$submitted && form.uomname1.$invalid }">
                        <select ng-model="cat.UOM" name="uomname1" class="form-control" ng-options="x.UOMDESC as x.UOMNAME for x in uomList1" required>
                            <option value="" selected="selected">Select </option>
                        </select>

                    </div>
                    <div ng-hide="Type == '' || Type == null" class="col-md-2">
                        <label class="col-md-7 control-label" for="textareaDefault">Item Type</label>
                        <label class="col-md-4 control-label no-padding" style="color:saddlebrown;font-size:18px">{{Type}}</label>


                    </div>
                    <label class="col-md-1 control-label no-padding" for="textareaDefault">Exceptional</label>
                    <div class="col-md-1 no-padding">
                        <div class="checkbox-custom checkbox-default">
                            <input type="checkbox" ng-model="cat.Exchk" ng-click="Exceptional()" /><label for="checkboxExample1"></label>
                        </div>
                    </div>


                </div>*@
                                    <table id="flowconId" style="display:none">
                                        <tr>
                                            <td colspan="10">
                                                <ul style="list-style:none">
                                                    <li style="float: left;width: 20%;"><span style="border: 1px solid #008000;background: #008000;float: left;width: 12px;height: 12px;margin: 3px;"></span>Completed</li>
                                                    <li style="float: left;width: 20%;"><span style="border: 1px solid orange;background: orange;float: left;width: 12px;height: 12px;margin: 3px;"></span>In Progress</li>
                                                    <li style="float: left;width: 20%;"><span style="border: 1px solid lightgray;background: lightgray;float: left;width: 12px;height: 12px;margin: 3px;"></span>To be done</li>
                                                </ul>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td colspan="5" ng-hide="itemstatusLst[0].RequestId==null">
                                                <h5>Request Id : <label ng-bind="itemstatusLst[0].RequestId" /></h5>
                                            </td>
                                            <td colspan="5">
                                                <h5>Item Code : <label ng-bind="itemstatusLst[0].Itemcode" /></h5>
                                            </td>
                                        </tr>

                                        <tr>

                                            <td width="10%" ng-show="!itemstatusLst[0].itemshow">
                                            <td width="10%" ng-show="itemstatusLst[0].itemshow">
                                                <i class="fa fa-user fa-5x {{itemstatusLst[0].Status==0?'gray':''}}{{itemstatusLst[0].Status==-1?'orange':''}}{{itemstatusLst[0].Status==2?'green':''}}"></i>

                                            </td>
                                            <td width="10%" ng-show="itemstatusLst[0].itemshow">
                                                <i class="fa fa-arrow-{{itemstatusLst[0].Status==-1?'left':'right'}} fa-2x {{itemstatusLst[0].Status==0?'gray':''}}{{itemstatusLst[0].Status==-1?'orange':''}}{{itemstatusLst[0].Status==2?'green':''}}"></i>
                                            </td>
                                            <td width="10%" ng-show="itemstatusLst[1].itemshow">
                                                <i class="fa fa-user fa-5x {{itemstatusLst[1].Status==0?'gray':''}}{{itemstatusLst[1].Status==1|| itemstatusLst[1].Status==-1?'orange':''}}{{itemstatusLst[1].Status==2?'green':''}}"></i>

                                            </td>
                                            <td width="10%" ng-show="itemstatusLst[1].itemshow">
                                                <i class="fa fa-arrow-{{itemstatusLst[1].Status==-1?'left':'right'}} fa-2x {{itemstatusLst[1].Status==0?'gray':''}}{{itemstatusLst[1].Status==-1 || itemstatusLst[1].Status==1?'orange':''}}{{itemstatusLst[1].Status==2?'green':''}}"></i>
                                            </td>
                                            <td width="10%">
                                                <i class="fa fa-user fa-5x {{itemstatusLst[2].Status==0?'gray':''}}{{itemstatusLst[2].Status==1 || itemstatusLst[2].Status==-1?'orange':''}}{{itemstatusLst[2].Status==2?'green':''}}"></i>

                                            </td>

                                            <td width="10%">
                                                <i class="fa fa-arrow-{{itemstatusLst[2].Status==-1?'left':'right'}} fa-2x {{itemstatusLst[2].Status==0?'gray':''}}{{itemstatusLst[2].Status==1 || itemstatusLst[2].Status==-1?'orange':''}}{{itemstatusLst[2].Status==2?'green':''}}"></i>
                                            </td>
                                            <td width="10%">
                                                <i class="fa fa-user fa-5x {{itemstatusLst[3].Status==0?'gray':''}}{{itemstatusLst[3].Status==1 || itemstatusLst[3].Status==-1 || itemstatusLst[3].Status==-2?'orange':''}}{{itemstatusLst[3].Status==2?'green':''}}"></i>

                                            </td>
                                            <td width="10%">
                                                <i class="fa fa-arrow-{{itemstatusLst[4].Status==-1?'left':'right'}} fa-2x {{itemstatusLst[3].Status==0 ||(itemstatusLst[4].Status==0 && itemstatusLst[3].Status!=1)?'gray':''}}{{itemstatusLst[4].Status==-1 ?'orange':''}}{{itemstatusLst[3].Status==1?'orange':''}}{{itemstatusLst[3].Status==2?'green':''}}"></i>
                                            </td>
                                            <td width="10%">
                                                <i class="fa fa-user fa-5x {{itemstatusLst[4].Status==0?'gray':''}}{{itemstatusLst[4].Status==1 || itemstatusLst[4].Status==-1?'orange':''}}{{itemstatusLst[4].Status==2?'green':''}}"></i>

                                            </td>


                                        </tr>

                                        <tr>

                                            <td width="10%" ng-show="!itemstatusLst[0].itemshow">
                                            <td width="10%" ng-show="itemstatusLst[0].itemshow">

                                                <h6 class="user-h6">Requester</h6>
                                                <p class="user-para">{{itemstatusLst[0].UserName}}<br /> {{itemstatusLst[0].Date}}</p>
                                            </td>
                                            <td width="10%" ng-show="itemstatusLst[0].itemshow"></td>
                                            <td width="10%" ng-show="itemstatusLst[1].itemshow">

                                                <h6 class="user-h6">Approver</h6>
                                                <p class="user-para" ng-hide="itemstatusLst[1].UserName==null">{{itemstatusLst[1].UserName}}<br /> {{itemstatusLst[1].Date}}</p>
                                            </td>
                                            <td width="10%" ng-show="itemstatusLst[1].itemshow"></td>
                                            <td width="10%">

                                                <h6 class="user-h6">Cataloguer</h6>
                                                <p class="user-para">{{itemstatusLst[2].UserName}}<br /> {{itemstatusLst[2].Date}}</p>
                                            </td>
                                            <td width="10%"></td>

                                            <td width="10%">

                                                <h6 class="user-h6">Reviewer</h6>
                                                <p class="user-para">{{itemstatusLst[3].UserName}}<br />  {{itemstatusLst[3].Date}}</p>
                                            </td>
                                            <td width="10%"></td>
                                            <td width="10%">

                                                <h6 class="user-h6">Releaser</h6>
                                                <p class="user-para">{{itemstatusLst[4].UserName}}<br /> {{itemstatusLst[4].Date}}</p>
                                            </td>
                                        </tr>

                                    </table>
                                    <div id="simItems" style="display:none">

                                        <table id="maintable" class="table table-bordered mb-none LeftPaddingRemoving">
                                            <thead class="top-border">
                                                <tr>
                                                    <th>
                                                        <div style="width:30%;float:left;">Short Desc</div>
                                                        <div style="width:70%;float:left;">
                                                            <input type="text" class="form-control" ng-model="simText" />
                                                        </div>
                                                    </th>
                                                    <th>Item code</th>
                                                    @*<th>Count</th>*@
                                                    <th>Dup %</th>
                                                    <th>Clone</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="xn in LstsimItems | orderBy : '-ItemStatus' | filter:{'Shortdesc': simText || undefined}  ">
                                                    <td>
                                                        <div id="conId{{$index}}" style="display:none;">
                                                            <table class="table table-bordered mb-none" style="width: 100% !important;margin: 0 auto;">
                                                                <thead class="top-border">
                                                                    <tr>
                                                                        <td><label class="control-label" style="font-weight:bold">Attribute</label></td>
                                                                        <td><label class="control-label" style="font-weight:bold">Value</label></td>
                                                                        <td><label class="control-label" style="font-weight:bold">Unit</label></td>

                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    <tr ng-repeat="ls in xn.Characteristics ">
                                                                        <td><label class="control-label" ng-bind="ls.Characteristic"></label></td>
                                                                        <td>{{ls.Value}}</td>
                                                                        <td>{{ls.UOM}}</td>

                                                                    </tr>
                                                                </tbody>
                                                            </table>

                                                        </div>
                                                        @*<div id="chrId{{$index}}" class="target" style="cursor:pointer">{{xn.Shortdesc}}</div>*@
                                                        <div id="chrId{{$index}}" class="target" ng-click="showlitpopup($index)" style="cursor:pointer">{{xn.Shortdesc}}</div>

                                                    </td>
                                                    <td><label ng-bind="xn.Itemcode" /></td>
                                                    <td><label ng-bind="xn.batch" /></td>
                                                    @*<td>{{xn.ItemStatus}}</td>*@
                                                    <td><a style="cursor:pointer" ng-click="similarDataFill(xn.Characteristics)" title="Fill Data"><i class="fa fa-reply-all" style="color: #555;"></i></a></td>


                                                </tr>
                                            </tbody>
                                        </table>
                                        <label style="color:red" ng-hide="LstsimItems!=null">No record found</label>
                                    </div>
                                    <div id="simlarItems" style="display:none">

                                        <table id="maintable" class="table table-bordered mb-none LeftPaddingRemoving">
                                            <thead class="top-border">
                                                <tr>
                                                    <th>
                                                        <div style="width:30%;float:left;">Short Desc</div>
                                                        <div style="width:70%;float:left;">
                                                            <input type="text" class="form-control" ng-model="simlarText" />
                                                        </div>
                                                    </th>
                                                    <th>Item code</th>
                                                    @*<th>Count</th>*@
                                                    <th>Clone</th>

                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="xn in LstsimlarItems | orderBy : '-ItemStatus' | filter:{'Shortdesc': simlarText || undefined}  ">
                                                    <td>
                                                        <div id="conId{{$index}}" style="display:none;">
                                                            <table class="table table-bordered mb-none" style="width: 100% !important;margin: 0 auto;">
                                                                <thead class="top-border">
                                                                    <tr>
                                                                        <td><label class="control-label" style="font-weight:bold">Attribute</label></td>
                                                                        <td><label class="control-label" style="font-weight:bold">Value</label></td>
                                                                        <td><label class="control-label" style="font-weight:bold">Unit</label></td>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    <tr ng-repeat="ls in xn.Characteristics ">
                                                                        <td><label class="control-label" ng-bind="ls.Characteristic"></label></td>
                                                                        <td>{{ls.Value}}</td>
                                                                        <td>{{ls.UOM}}</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>

                                                        </div>
                                                        @*<div id="chrId{{$index}}" class="target" style="cursor:pointer">{{xn.Shortdesc}}</div>*@
                                                        <div id="chrId{{$index}}" class="target" ng-click="showlitpopup($index)" style="cursor:pointer">{{xn.Shortdesc}}</div>

                                                    </td>
                                                    <td><label ng-bind="xn.Itemcode" /></td>
                                                    <td><a style="cursor:pointer" ng-click="similarDataFill(xn.Characteristics)" title="Fill Data"><i class="fa fa-reply-all" style="color: #555;"></i></a></td>


                                                </tr>
                                            </tbody>
                                        </table>
                                        <label style="color:red" ng-hide="LstsimlarItems!=null">No record found</label>
                                    </div>
                                    <div class="col-md-12">
                                        <div class="panel-group" id="accordion">
                                            <div class="panel panel-accordion detail-plan" @*ng-show="Characteristics!=null"*@>
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle collapse in" data-toggle="collapse" href="#char">
                                                            @*Characteristic*@Description
                                                        </a>
                                                    </h4>
                                                </div>
                                                <div id="char" class="accordion-body collapse in">
                                                    <div class="panel-body">
                                                        <div id="divcharater" class="form-group" @*ng-show="Characteristics!=null"*@>

                                                            <div class="col-md-7">
                                                                <label class="col-md-2 control-label" for="textareaDefault">Noun<span style="color:red;font-weight:bold">*</span></label>
                                                                <div class="col-md-4" ng-class="{'has-error': form.$submitted && form.nun.$invalid || form.nun.$error.pattern}">

                                                                    <input type="text" class="form-control immediate-help" name="nun" ng-pattern="/^(\D)+$/" ng-model="cat.Noun" ng-blur="NM.Noun=NM.Noun.toUpperCase();" ng-change="loadmodifier(cat.Noun.toUpperCase())" autofocus auto-complete required style="width:90%;float:left;">
                                                                    <a href="#" ng-hide="NM1.NounDefinition==null||NM1.NounDefinition==''" data-tooltip={{NM1.NounDefinition}} class="tool-tip-hover" style="width:10%;float:left;"><img src="~/Content/images/im.gif" /></a>


                                                                    <div ng-show="form.nun.$invalid" class="input-help">
                                                                        <h4 ng-show="form.nun.$error.required">Noun should not be blank</h4>
                                                                        <h4 ng-show="form.nun.$error.pattern">Enter characters only</h4>

                                                                    </div>
                                                                </div>
                                                                <label class="col-md-2 control-label" for="textareaDefault" style="text-align:right;">Modifier<span style="color:red;font-weight:bold">*</span></label>
                                                                <div class="col-md-4" ng-class="{'has-error': form.$submitted && (form.modll.$invalid || form.modll.$error.required)}">
                                                                    <select ng-model="cat.Modifier" class="form-control" name="modll" ng-required="true" ng-change="ChangeModifier()" ng-options="x.Modifier as x.Modifier for x in Modifiers" style="width:90%;float:left;">

                                                                        <option value="">Select</option>
                                                                    </select>
                                                                    <a href="#" ng-hide="NM1.ModifierDefinition==null||NM1.ModifierDefinition==''" data-tooltip={{NM1.ModifierDefinition}} class="tool-tip-hover" style="width:10%;float:left;"><img src="~/Content/images/im.gif" /></a>
                                                                </div>
                                                                <div class="col-md-12 no-padding" style="margin-top:20px">
                                                                    <label class="col-md-2 control-label" for="textareaDefault" @*style="text-align:right;"*@>UOM<span style="color:red;font-weight:bold">*</span></label>
                                                                    <div class="col-md-4 controls" ng-class="{'has-error': form.$submitted && form.uomname1.$invalid }">
                                                                        @*<select ng-model="cat.UOM" capitalize name="uomname1" class="form-control" ng-options="x.UOMNAME as x.UOMNAME for x in uomList1" required style="width:90%;float:left;">
                                                        <option value="" selected="selected">Select </option>
                                                    </select>*@
                                                                        <input ng-model="cat.UOM" capitalize name="uomname1" class="form-control" required style="width:90%;float:left;" />
                                                                    </div>
                                                                    <div ng-hide="Type == '' || Type == null" class="col-md-4">
                                                                        <label class="col-md-7 control-label" for="textareaDefault">Item Type</label>
                                                                        <label class="col-md-4 control-label no-padding" style="color:saddlebrown;font-size:18px">{{Type}}</label>


                                                                    </div>
                                                                </div>
                                                                <table id="maintable" class="table mb-none LeftPaddingRemoving" style="margin-top: 32px;">

                                                                    <thead class="top-border" ng-show="Characteristics!=null">
                                                                        <tr>
                                                                            <th style="width:30%">Characteristic</th>
                                                                            <th style="width:40%">Value</th>
                                                                            <th style="width:20%">Abbreviate</th>
                                                                            <th style="width: 10%">Unit</th>
                                                                            @*<th style="width: 15%">URL</th>
        <th style="width: 15%">Source</th>*@
                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr ng-repeat="uo in Characteristics | filter: { Definition: 'MM' } ">

                                                                            <td>
                                                                                <input type="hidden" ng-model="uo.Squence" /><input type="hidden" ng-model="uo.ShortSquence" />
                                                                                <div>
                                                                                    <a style="text-decoration:none" title="{{uo.Definition}}"><label class="form-control" ng-class="{'tdback':uo.Mandatory=='Yes'}">{{uo.Characteristic}}<span ng-show="uo.Mandatory=='Yes'" style="color:red;font-weight:bold">*</span><span title="Key Attribute" ng-show="uo.style=='Yes'"><i class="fas fa-key"></i></span></label></a>
                                                                                    @*<input type="text" class="form-control" ng-class="{'tdback':uo.Mandatory=='Yes'}" disabled ng-model="uo.Characteristic">*@
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div id="div{{$index}}" ng-class="{'has-error':form.$submitted && (form.val{{$index}}.$error.pattern || form.val{{$index}}.$error.required|| form.val1{{$index}}.$error.required)}">

                                                                                    <input name="val{{$index}}" id="values{{$index}}" type="text" ng-click="SelectCharater(cat.Noun,cat.Modifier,uo.Characteristic,$index)" ng-required="uo.Mandatory=='Yes'" ng-blur="checkValue(cat.Noun,cat.Modifier,uo.Characteristic,uo.Value,$index,uo.UOM)" ng-change="valChange(uo.Value,$index)" class="form-control immediate-help" ng-pattern="uo.Validation" ng-model="uo.Value" @*maxlength="30"*@ autocomplete="off" capitalize>

                                                                                    <div ng-show="form.val{{$index}}.$error.pattern" class="input-help">
                                                                                        <h4 ng-show="form.val{{$index}}.$error.pattern">Enter numeric only</h4>

                                                                                    </div>
                                                                                </div>

                                                                            </td>

                                                                            <td>
                                                                                <div id="checkval{{$index}}" style="display:none" class="col-md-12 no-padding">
                                                                                    <div class="col-md-8 no-padding"><input ng-model="uo.Abbrivation" type="text" class="form-control" capitalize /></div><div class="col-md-2 no-padding">
                                                                                        <button id="btnabv{{$index}}" type="button" name="btnAdd"
                                                                                                style="background: #fff;border: none;color: #3e79cb;text-decoration: underline;"
                                                                                                ng-click="AddValue(cat.Noun,cat.Modifier,uo.Characteristic,uo.Value,uo.Abbrivation,$index)">
                                                                                            Add
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </td>
                                                                            <td>

                                                                                <div ng-click="Uomalert(uo.UOM,$index)" id="U{{$index}}">
                                                                                    <div ng-show="uo.Uom !=null && uo.Uom.length > 0 " ng-class="{'has-error': form.Um11o{{$index}}.$invalid || form.Um11o{{$index}}.$error.required }">
                                                                                        <select ng-model="uo.UOM" name="Um11o{{$index}}" class="form-control" ng-required="uo.UomMandatory=='Yes' && uo.Value!='' && uo.Value!=null && uo.Uom !=null && uo.Uom.length > 0" ng-options="y for y in uo.Uom">
                                                                                            <option value="">Select</option>
                                                                                        </select>
                                                                                    </div>
                                                                                </div>

                                                                            </td>

                                                                            <!--<td>
    <div id="checkval{{$index}}" style="display:none" class="col-md-12 no-padding">
        <div class="col-md-8 no-padding"><input ng-model="uo.Value" type="text" class="form-control" capitalize /></div><div class="col-md-2 no-padding">
        <div class="col-md-8 no-padding">-->
                                                                            @*<input ng-model="uo.Abbrivation" type="text" class="form-control" capitalize />*@
                                                                            <!--</div><div class="col-md-2 no-padding">
    <button id="btnabv{{$index}}" type="button" name="btnAdd"-->
                                                                            @*style="background: #fff;border: none;color: #3e79cb;text-decoration: underline;"*@
                                                                            <!--ng-click="AddValue(cat.Noun,cat.Modifier,uo.Characteristic,uo.Value,uo.Abbrivation,$index)">Add</button>
            </div>
        </div>
    </td>-->
                                                                            <!--<td>

    <div ng-click="Uomalert(uo.UOM,$index)" id="U{{$index}}">
        <div ng-show="uo.Uom !=null && uo.Uom.length > 0 " ng-class="{'has-error': form.Um11o{{$index}}.$invalid || form.Um11o{{$index}}.$error.required }">
            <select ng-model="uo.UOM" name="Um11o{{$index}}" class="form-control" ng-required="uo.UomMandatory=='Yes' && uo.Value!='' && uo.Value!=null && uo.Uom !=null && uo.Uom.length > 0" ng-options="y for y in uo.Uom">
                <option value="">Select</option>
            </select>
        </div>-->
                                                                            @*<div ng-show="(uo.Uom ==null || uo.Uom.length ==  0) && x.UOMList.length > 0" class="{'has-error': form.Um11o{{$index}}.$invalid || form.Um11o{{$index}}.$error.required }" ng-repeat="x in UOMs | filter : {'Attribute': uo.Characteristic }:true">
            <select ng-model="uo.UOM" name="Um11o{{$index}}"   class="form-control" ng-required="uo.UomMandatory=='Yes' && uo.Value!='' && uo.Value!=null &&  x.UOMList.length > 0 " ng-options="y for y in x.UOMList">
                <option value="" selected="selected">Select</option>
            </select>
        </div>*@
                                                                            <!--</div>

    </td>-->
                                                                            @*<td>
            <input type="text" class="form-control" ng-model="uo.SourceUrl" />
        </td>

        <td>
            <select class="form-control" ng-init="uo.Source==null?uo.Source='LEGACY DATA':uo.Source" ng-model="uo.Source" ng-options="lst for lst in ['LEGACY DATA','LEGACY DATA/INTERNET','INTERNET']"></select>
        </td>*@
                                                                        </tr>
                                                                    </tbody>
                                                                </table>

                                                                @*<div class="form-group">
                                                <label class="col-md-4 no-padding control-label">Manufacturer</label>
                                                <div class="col-md-8 control-text control-texts">
                                                    <input type="text" class="form-control  immediate-help" ng-model="cat.exManufacturer" disabled />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 no-padding control-label">Part Number</label>
                                                <div class="col-md-8 control-text control-texts">
                                                    <input type="text" class="form-control  immediate-help" ng-model="cat.exPartno" disabled />
                                                </div>
                                            </div>*@

                                                                @*<div class="form-group">
                                                <label class="control-label" for="textareaDefault">Additional Data For Description</label>
                                                <textarea class="form-control" rows="3" ng-model="cat.Additionalinfo" capitalize></textarea>
                                            </div>*@
                                                            </div>
                                                            <div class="col-md-5">


                                                                <div style="width: 100%;float: left;">
                                                                    @*<a id="Modal-2" ng-show="cat.Noun!=null" ng-click="OpenPop()" style="width:5%;float:left;"><i class="fas fa-sync-alt" style="font-size:17px !important;" title="Click Here Similar Item"></i></a>*@
                                                                    @*<span style="width:2%;float:left;">|</span>*@ &nbsp;&nbsp;<a id="showstatus" ng-show="cat.Itemcode!=null" ng-click="showuserMap(cat.Itemcode)" style="width:5%;float:left;"><i class="fas fa-clipboard-list" style="font-size:18px !important;" title="View Item Status"></i></a>
                                                                    <span style="width:2%;float:left;" ng-show="NM1.FileData == null ? false:true">|</span> &nbsp;&nbsp;
                                                                    <div class="enlarge" ng-show="NM1.FileData == null ? false:true" style="width:5%;float:left;">
                                                                        <a>
                                                                            <img src={{NM1.FileData}} width="30px" height="25px" style="border:1px solid #a2a2a2" /><span>
                                                                                <img src={{NM1.FileData}} width="300px" height="300px" />
                                                                            </span>
                                                                        </a>
                                                                    </div><br />
                                                                </div>
                                                                <label class="control-label" for="textareaDefault">Additional Data For Description</label>
                                                                <textarea class="form-control" rows="3" ng-model="cat.Additionalinfo" capitalize></textarea>
                                                                @*<label ng-show="false" class="control-label" for="textareaDefault">Junk</label>
                                            <textarea ng-show="false" class="form-control" rows="3" ng-model="cat.Junk"></textarea><br />*@

                                                                <label style="font-weight:bold" class="blue">Short Description</label><br />
                                                                <label ng-bind="cat.Shortdesc" class="label-disc"></label>
                                                                <textarea style="display:none" class="form-control" rows="3" ng-model="cat.Shortdesc"></textarea><br />

                                                                @*<label style="font-weight:bold" class="blue">Short Description</label><br />
                                                                <label ng-bind="cat.Shortdesc_" style="word-break: break-all;" class="label-disc"></label>
                                                                <textarea style="display:none;" class="form-control" rows="3" ng-model="cat.Shortdesc_"></textarea><br />*@

                                                                <label style="font-weight:bold" class="blue">Long Description</label><br />
                                                                <label ng-bind="cat.Longdesc" style="word-break: break-all;" class="label-disc"></label>
                                                                <textarea style="display:none" class="form-control" ng-model="cat.Longdesc" rows="3"></textarea><br />

                                                                <label style="font-weight:bold;color:saddlebrown;">Missing Value</label><br />
                                                                <label ng-bind="cat.MissingValue" class="label-disc" style="color: saddlebrown; font-size: 12px; word-break: break-all;"></label>
                                                                <textarea style="display:none" class="form-control" ng-model="cat.MissingValue" rows="3"></textarea><br />


                                                                <label style="font-weight:bold;color:saddlebrown;">Existing Missing Value</label><br />
                                                                <label ng-bind="cat.exMissingValue" class="label-disc" style="color: saddlebrown; font-size: 12px; word-break: break-all;"></label>
                                                                <textarea style="display:none" class="form-control" ng-model="cat.exMissingValue" rows="3"></textarea><br />

                                                                <label style="font-weight:bold;color:saddlebrown;">Enriched Value</label>
                                                                <label ng-bind="cat.EnrichedValue" class="label-disc" style="color: saddlebrown; font-size: 12px; word-break: break-all;"></label>
                                                                <textarea style="display:none" class="form-control" ng-model="cat.EnrichedValue" rows="3"></textarea><br />



                                                                <label style="font-weight:bold;color: saddlebrown;">Repeated Value</label>
                                                                <label ng-bind="cat.RepeatedValue" class="label-disc" style="color: saddlebrown; font-size: 12px; word-break: break-all;"></label>
                                                                @*<textarea style="display:none" class="form-control" ng-model="cat.RepeatedValue" rows="3"></textarea><br />*@
                                                                @*<img class="col-md-12 img-show-categ" src="{{NM1.FileData}}" ng-show="NM1.FileData == null ? false:true" />*@
                                                            </div>
                                                            <div class="col-md-10"></div>
                                                            <div class="col-md-2">

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="panel panel-accordion detail-plan">
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle collapse in" data-toggle="collapse" href="#VendorDetails">
                                                            Vendor Details
                                                        </a>
                                                    </h4>
                                                </div>
                                                <div id="VendorDetails" class="accordion-body collapse in">

                                                    <div class="panel-body">
                                                        <div class="col-md-12">

                                                            <div class="table-responsive">
                                                                &nbsp;

                                                                <table id="maintable" class="table mb-none LeftPaddingRemoving">

                                                                    <thead class="top-border">
                                                                        <tr>
                                                                            @*<th style="width: 10%;display:none;">Code</th>*@
                                                                            <th style="width: 15%">Vendor Type</th>
                                                                            <th style="width: 36%">Name<span style="color:red;font-weight:bold" ng-show="Type=='OEM'|| Type=='OPM'">*</span></th>
                                                                            <th style="width: 20%">Ref Flag</th>
                                                                            <th style="width: 13%">Ref No<span style="color:red;font-weight:bold" ng-show="Type=='OEM'|| Type=='OPM'">*</span></th>
                                                                            <th style="width:4%;">S</th>
                                                                            <th style="width:4%;">L</th>
                                                                            <th style="width: 8%;text-align:center;">Remove|Add</th>


                                                                        </tr>
                                                                    </thead>
                                                                    <tbody>
                                                                        <tr class="data-contact-person" ng-repeat="rw in rows">
                                                                            @*<td style="display:none;"><input type="text" class="form-control" ng-model="rw.Code" /></td>*@
                                                                            <td>
                                                                                <select ng-model="rw.Type" style="border-color:{{rw.red}}" ng-change="vebdortypechange($index)" name="ddlVendortype{{$index}}" class="form-control" ng-options="x.Type as x.Type for x in VendortypeList">
                                                                                    <option value="" selected="selected">Select</option>
                                                                                </select>
                                                                            </td>
                                                                            <td ng-class="{'has-error': form.$submitted && form.vendor{{$index}}.$invalid }">

                                                                                <input type="text" name="vendor{{$index}}" id="vendor{{$index}}" style="border-color:{{rw.redname}}" class="form-control immediate-help" ng-change="checkvendortype($index)" ng-blur="vendornameblur($index)" ng-model="rw.Name" autocomplete="off" auto-complete2 ng-required="ven && $index == 0" capitalize>

                                                                                @*<div ng-show="rw.redname == 'red' && rw.Name!=''  && rw.Name!=null" class="input-help text-alert">

                <h4 class="alert" >Please update Vendor to proceed further</h4>

            </div>*@
                                                                            </td>
                                                                            <td>
                                                                                <select ng-model="rw.Refflag" name="Reftype{{$index}}" class="form-control" @*ng-change="refflagchange($index)"*@ style="border-color:{{rw.redrefflag}}" ng-options="x.Type as x.Type for x in ReftypeList">
                                                                                    <option value="" selected="selected">Select</option>
                                                                                </select>

                                                                            </td>
                                                                            <td ng-class="{'has-error': form.$submitted && form.refno{{$index}}.$invalid}">
                                                                                <input type="text" id="refno{{$index}}" placeholder="{{rw.placeholder}}" class="form-control" name="refno{{$index}}" style="border-color:{{rw.redrefno}}" ng-blur="checkPartno($index)" @*ng-change="refnochange($index)"*@ ng-model="rw.RefNo" ng-required="ven" capitalize>
                                                                                <div id="divPartnum" style="display:none" class="input-help1">
                                                                                    <i ng-click="closeData()" class="far fa-times-circle fa-2x pull-right"></i>
                                                                                    <h4 ng-bind="'Below item(s) already exist'"></h4>
                                                                                    <div ng-repeat="ls in listptnodup" class="item-border">
                                                                                        <label><label style="font-weight:bold" ng-bind="'Item Code: '"></label><label ng-bind="ls.Itemcode"></label></label>
                                                                                        <label><label style="font-weight:bold" ng-bind="'Short Desc: '"></label><label ng-bind="ls.Shortdesc"></label></label>
                                                                                        <button type="button" ng-click="fillData(ls)">Fill Data </button>
                                                                                    </div>

                                                                                </div>

                                                                            </td>

                                                                            <td>
                                                                                <div class="checkbox-custom checkbox-default">
                                                                                    @*<input type="checkbox" ng-model="rw.s" ng-true-value="1" ng-checked="rw.s == '1' || ( Type=='OPM'|| Type=='OEM')" ng-false-value="0" ng-disabled= "Type!= 'Generic' && $index == 0" id="chks{{$index}}" /> <label for="checkboxExample1"></label>*@
                                                                                    <input type="checkbox" ng-model="rw.s" ng-true-value=1 ng-false-value=0 ng-click="checkshort($index)" id="chks{{$index}}" /> <label for="checkboxExample1"></label>
                                                                                </div>
                                                                            </td>
                                                                            <td>
                                                                                <div class="checkbox-custom checkbox-default">
                                                                                    <input type="checkbox" ng-model="rw.l" ng-true-value=1 @*ng-disabled="true"*@ ng-false-value=0 @*ng-click="checklong($index)"*@ id="chkl{{$index}}" /> <label for="checkboxExample1"></label>
                                                                                </div>
                                                                            </td>
                                                                            <td style="text-align:center">
                                                                                <button type="button" id="btnDelete" class="deleteContact btn btn  btn-xs" ng-click="RemoveRow($index)" ng-disabled="$index==0"><i class="fas fa-times"></i></button>&nbsp;
                                                                                <button type="button" name="btnAdd" class="btn btn-xs btn-primary classAdd" ng-click="addRow()" title="Add Row"><i class="fas fa-plus"></i></button>
                                                                            </td>
                                                                        </tr>
                                                                    </tbody>

                                                                    @*<tfoot>
                                                    <tr>

                                                        <td colspan="4"></td>
                                                        <td></td>
                                                        <td></td>
                                                        <td>
                                                            <div class="form-group" style="text-align:right">
                                                                <button type="button" name="btnAdd" class="btn btn-xs btn-primary classAdd" ng-click="addRow()" title="Add Row"><i class="fas fa-plus"></i></button>&nbsp;@*<button type="button" id="btnDelete" class="deleteContact btn btn btn-danger btn-xs" ng-click="RemoveRow()">Remove</button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tfoot>*@


                                                                </table>

                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="panel panel-accordion detail-plan">
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle collapse in" data-toggle="collapse" href="#MaterialImages">
                                                            Material Images
                                                        </a>
                                                    </h4>
                                                </div>

                                                <div id="MaterialImages" class="accordion-body collapse in">

                                                    <div class="panel-body">
                                                        <div class="col-md-12">
                                                            <div class="col-md-6">
                                                                <fieldset>
                                                                    <legend>Asset Image</legend>
                                                                    <div class="col-md-12">
                                                                        <div class="col-md-4" ng-repeat="img in cat.AssetImages.AssetImgs track by $index">
                                                                            <a ng-show="currentUsr == 'Althaf' || currentUsr == 'Yasar'" ng-click="RemoveAssetImg(img,cat.Itemcode)" style="float: right;padding-right: 4px;cursor:pointer;" title="Delete"><i class="fa fa-trash" style="color: #dc7777;"></i></a>
                                                                            <a href="{{img}}" data-magnify="gallery" data-gallery="gallery">
                                                                                <img src="{{img}}" class="img-fluid rounded" style="width: 135px; height: 140px;">
                                                                            </a>
                                                                        </div>
                                                                    </div>
                                                                    <br />
                                                                    <div class="col-md-12" ng-show="currentUsr == 'Althaf' || currentUsr == 'Yasar'">
                                                                        <label class="col-md-3 control-label">Upload File</label>
                                                                        <div class="col-md-7">
                                                                            <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                                                                                <div class="form-control" data-trigger="fileinput"><i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
                                                                                <span class="input-group-addon btn btn-default btn-file"><span class="fileinput-new">Select file</span><span class="fileinput-exists">Change</span><input type="file" name="..." onchange="angular.element(this).scope().LoadAssetImg(this.files)"></span>
                                                                                <a href="#" class="input-group-addon btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                                                                            </div>
                                                                        </div>
                                                                        <div class="col-md-2">
                                                                            <button class="btn btn-primary" type="button" ng-click="UploadAssetImg(cat.Itemcode)">Upload</button>&nbsp;

                                                                        </div>
                                                                    </div>

                                                                </fieldset>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <fieldset>
                                                                    <legend>Name Plate Image</legend>
                                                                    <div class="col-md-12 no-padding">
                                                                        <div class="col-md-4" ng-repeat="img in cat.AssetImages.NameplateImgs track by $index">
                                                                            <a ng-show="currentUsr == 'Althaf' || currentUsr == 'Yasar'" ng-click="RemovenameplateImg(img,cat.Itemcode)" style="float: right;padding-right: 4px;cursor:pointer;" title="Delete"><i class="fa fa-trash" style="color: #dc7777;"></i></a>
                                                                            <a href="{{img}}" data-magnify="gallery" data-gallery="gallery1">
                                                                                <img src="{{img}}" class="img-fluid rounded" style="width: 135px; height: 140px;">
                                                                            </a>



                                                                        </div>
                                                                    </div>
                                                                    <fieldset>
                                                                        <legend>Name Plate Text</legend>
                                                                        <div class="form-group" ng-repeat="txt in cat.AssetImages.NamePlateText">
                                                                            <p class="col-md-12">{{txt}}</p>
                                                                        </div>
                                                                    </fieldset>
                                                                    <br />
                                                                </fieldset>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="panel panel-accordion detail-plan">
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle collapse in" data-toggle="collapse" href="#EquipmentDetails">
                                                            Equipment Details
                                                        </a>
                                                    </h4>
                                                </div>
                                                <div id="EquipmentDetails" class="accordion-body collapse in">
                                                    <div class="panel-body">
                                                        <div class="col-md-12">


                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label no-padding">Equipment Name<span style="color:red;font-weight:bold" ng-show="Type=='OEM' && cat.Exchk==false">*</span></label>

                                                                <div class="col-md-4 control-text control-texts" ng-class="{'has-error': form.$submitted && form.equ{{$index}}.$invalid}">
                                                                    <input type="text" class="form-control" name="equ{{$index}}" list="lstEquip" ng-model="Equ.Name" ng-required="Type=='OEM' && cat.Exchk==false" ng-focus="SelectEquip(Equ.Name)" autocomplete="off" capitalize>
                                                                </div>
                                                                @*<div class="col-md-1 no-padding">
                                                <label class="col-md-2 control-label no-padding">S</label>
                                                <div class="col-md-4 no-padding checkbox-custom checkbox-default">
                                                    <input type="checkbox" ng-model="Equ.ENS" ng-true-value="1" ng-checked="(Equ.ENS == 1 || Type=='OEM')" ng-false-value="0" id="ENSHORT" ng-disabled="Type=='OEM'"> <label for="checkboxExample1"></label>
                                                </div>

                                            </div>*@
                                                                @*<div class="col-md-1 no-padding">
                                                <label class="col-md-2 control-label no-padding">S</label>
                                                <div class="col-md-4 no-padding checkbox-custom checkbox-default">
                                                    <input type="checkbox" ng-model="Equ.EMS" ng-true-value="1" ng-checked="(Equ.ENS == 1 || Type=='OEM')" ng-false-value="0" id="EMSLONG" ng-disabled="Type=='OEM'"> <label for="checkboxExample1"></label>
                                                </div>

                                            </div>*@
                                                                <label class="col-md-2 control-label">Equipment Tag No</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <input type="text" class="form-control" ng-model="Equ.Tagno" capitalize>
                                                                </div>
                                                            </div>


                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label no-padding">Equipment Mfr</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <input type="text" class="form-control" ng-model="Equ.Manufacturer" capitalize>
                                                                </div>
                                                                @*<div class="col-md-1 no-padding"></div>*@
                                                                <label class="col-md-2 control-label">Equipment Serial No</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <input type="text" class="form-control" ng-model="Equ.Serialno" capitalize>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label no-padding">Equipment Model No</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <input type="text" class="form-control" ng-model="Equ.Modelno" capitalize>
                                                                </div>
                                                                <label class="col-md-2 control-label" for="inputDefault">Addtional Information</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <textarea class="form-control" rows="3" ng-model="Equ.Additionalinfo" capitalize></textarea>
                                                                </div>
                                                                @*<div class="col-md-1 no-padding"></div>*@
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-2 control-label no-padding" for="inputDefault">Superior Equipment</label>

                                                                <div class="col-md-4 control-text control-texts">
                                                                    <textarea class="form-control" rows="3" ng-model="Equ.SuperiorEquipment" capitalize></textarea>
                                                                </div>
                                                                @*<div class="col-md-1 no-padding"></div>*@
                                                            </div>




                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            @*<div class="panel panel-accordion detail-plan">
                            <div class="panel-heading">
                                <h4 class="panel-title">
                                    <a class="accordion-toggle collapse in collapsed" data-toggle="collapse" href="#HSNDetails">
                                        HSN Details
                                    </a>
                                </h4>
                            </div>
                            <div id="HSNDetails" class="accordion-body collapse">
                                <div class="panel-body">
                                    <div class="col-md-12">

                                        <div class="form-group">
                                            <label class="col-md-2 control-label" for="textareaDefault">Search</label>
                                            <div class="col-md-3">
                                                <input type="text" ng-disabled="HSNShow" class="form-control" ng-model="hsn" />
                                            </div>
                                            <div class="col-md-1 no-padding">

                                                <button type="button" ng-show="hsn != null" class="btn btn-xs btn-primary" name="search" ng-click="Searchhsn(hsn)"><i class="fa fa-search"></i></button>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <label class="col-md-2 control-label" for="textareaDefault">HSN ID</label>
                                            <div class="col-md-4">
                                                <input type="text" class="form-control" ng-disabled="true" ng-model="HSNID" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-2 control-label" for="textareaDefault">HSN Desc</label>
                                            <div class="col-md-4">
                                                <textarea class="form-control" ng-disabled="true" ng-model="Desc" rows="4"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>*@
                                            <div class="panel panel-accordion detail-plan">

                                            </div>
                                            <div class="panel panel-accordion detail-plan" style="display:none">
                                                <div class="panel-heading">
                                                    <h4 class="panel-title">
                                                        <a class="accordion-toggle collapse in" data-toggle="collapse" href="#UNSPSC">
                                                            UNSPSC
                                                        </a>
                                                    </h4>
                                                </div>
                                                <div id="UNSPSC" class="accordion-body collapse in">

                                                    <div class="panel-body">
                                                        <div class="col-md-6">

                                                            <div class="form-group">
                                                                <label class="col-md-4 control-label no-padding">Commodity Title</label>
                                                                <div class="col-md-8">
                                                                    <select ng-model="cat.UNSPSCTitle" class="form-control" ng-change="getunspscnum(cat.UNSPSCTitle)" ng-options="x.UNSPSCTitle as x.UNSPSCTitle for x in Unspsclist">
                                                                        <option value="" selected="selected" class="">Select Commodity Title</option>

                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-4 control-label no-padding">Commodity</label>
                                                                <div class="col-md-8">
                                                                    <input type="text" class="form-control" ng-model="UNSPSC" ng-bind={{UNSPSC}}>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="col-md-6">

                                                            <div class="form-group">
                                                                <label class="col-md-4 control-label no-padding">Class Title</label>
                                                                <div class="col-md-8">
                                                                    <select ng-model="cat.UNSPSCTitle" class="form-control" ng-change="getunspscnum(cat.UNSPSCTitle)" ng-options="x.UNSPSCTitle as x.UNSPSCTitle for x in Unspsclist">
                                                                        <option value="" selected="selected" class="">Select Class Title</option>

                                                                    </select>
                                                                </div>
                                                            </div>
                                                            <div class="form-group">
                                                                <label class="col-md-4 control-label no-padding">Class</label>
                                                                <div class="col-md-8">
                                                                    <input type="text" class="form-control" ng-model="UNSPSC" ng-bind={{UNSPSC}}>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12" id="cotentidnew" style="overflow: hidden;position:absolute;width:98%;display:none;">



                                                <div ng-show="sResult1 != null">
                                                    <div class="col-md-12 form-group no-padding">
                                                        <div class="col-md-11">
                                                            <h2></h2>
                                                        </div>
                                                        <div class="col-md-1">
                                                            <input type="button" class="btn btn-success" id="Submit" ng-hide="add" ng-click="Compare(cat.Legacy1,cat.Legacy)" value="Compare" style="position: fixed;z-index:999" />
                                                        </div>
                                                    </div>
                                                    <div class="tbl-header" style="width: 99.7%;">
                                                        <table class="table table-bordered mb-none" id="data">
                                                            <thead class="top-border" align="center">
                                                                <tr>
                                                                    <th style="width:10%">Code</th>
                                                                    <th style="width:20%">Short Desc</th>
                                                                    <th style="width:50%">Long Desc</th>
                                                                    <th style="width:8%">Action</th>
                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                    <div class="" style="display:block;overflow-y:scroll;max-height:400px">

                                                        <table class="table table-bordered mb-none" id="data">


                                                            <tbody>
                                                                <tr ng-repeat="src1 in sResult1" id="{{$index}}">
                                                                    <td style="width:9.5%"><label ng-bind="src1.Materialcode"></label></td>
                                                                    <td style="width:19%"><label ng-bind="src1.Shortdesc"></label></td>
                                                                    <td style="width:47.7%"><label ng-bind="src1.Longdesc"></label></td>
                                                                    <td ng-hide="true"><label ng-bind="src1.Itemcode"></label></td>
                                                                    <td style="width:7%">
                                                                        <a ng-click="Clone(src1,$index)" style="cursor:pointer" class="action-pop" title="Clone"><i class="fa fa-paste"></i></a>&nbsp;|
                                                                        <a ng-click="Mapdup(src1.Itemcode)" style="cursor:pointer" class="action-pop" title="Map Duplicate"><i class="fa fa-link"></i></a>&nbsp;|
                                                                        <div class="checkbox-custom checkbox-default check-pop" style="float: right;padding-top: 10px;padding-left: 19px;">
                                                                            <input class="chk" type="checkbox" id="checkboxExample1" ng-model="src1.isChecked" ng-click="identifyAdd_rows($index)"> <label for="checkboxExample1"></label>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>

                                                    </div>
                                                </div>


                                            </div>
                                            <div class="col-md-12 form-group no-padding" id="compare" ng-show="pop" tyle="display:none;">

                                                <div class="scoll-tree" style="width:5000px;">

                                                    <div class="price-table-wrapper" style="margin-left:0.4%">
                                                        <div class="pricing-table list-group" ng-repeat="l in list">

                                                            <ul>
                                                                <div ng-show="$index!=0">
                                                                <li style="margin-bottom: 23px;border-top: none;">
                                                                    <div class="col-md-12 text-right">
                                                                        <a ng-click="Remove($index)" style="cursor:pointer;" title="Close"><i class="fa fa-times-circle" style="color: #dc7777;"></i></a>
                                                                    </div>
                                                                </li>
                                                                <li>{{l.Materialcode}}</li>
                                                                <li>{{l.Noun}} , {{l.Modifier}}</li>
                                                                <li ng-bind="l.Legacy.length >30 ? (l.Legacy | limitTo: 30) +'...' : l.Legacy" style="cursor:pointer" title={{l.Legacy}}></li>
                                                                <li ng-bind="l.Longdesc.length >30 ? (l.Longdesc | limitTo: 30) +'...' : l.Longdesc" style="cursor:pointer" title={{l.Longdesc}}></li>
                                                                <li ng-bind="l.Additionalinfo == null ? '-' : l.Additionalinfo.length >30 ? (l.Additionalinfo | limitTo: 30) +'...' : l.Additionalinfo" style="cursor:pointer" title={{l.Additionalinfo}}></li>
                                                        </div>
                                                        <div ng-show="$index==0">
                                                            <li ng-bind="'-'"></li>
                                                            <li class="attribute">{{l.Materialcode}}</li>
                                                            <li class="attribute">{{l.Noun}} , {{l.Modifier}}</li>
                                                            <li class="attribute" ng-bind="l.Legacy.length >30 ? (l.Legacy | limitTo: 30) +'...' : l.Legacy" style="cursor:pointer" title={{l.Legacy}}></li>
                                                            <li class="attribute" ng-bind="l.Longdesc.length >30 ? (l.Longdesc | limitTo: 30) +'...' : l.Longdesc" style="cursor:pointer" title={{l.Longdesc}}></li>
                                                            <li class="attribute" ng-bind="l.Additionalinfo == null ? '-'  : l.Additionalinfo.length >30 ? (l.Additionalinfo | limitTo: 30) +'...' : l.Additionalinfo" style="cursor:pointer" title={{l.Additionalinfo}}></li>
                                                        </div>

                                                        <div ng-show="$index!=0">
                                                            <li ng-repeat="ls in l.Characteristics" class="attribute-value">
                                                                <span ng-bind="ls.Value == '' ? '-'  : ls.Value"></span>
                                                            </li>
                                                        </div>
                                                        <div ng-show="$index==0">
                                                            <li ng-repeat="ls in l.Characteristics" class="gray">
                                                                <span ng-bind="ls.Characteristic == '' ? '-'  : ls.Characteristic"></span>
                                                            </li>
                                                        </div>
                                                        </ul>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div id="cotentid1" style="display:none">
                                    <div class="content">
                                        <div class="panel-body">
                                            <div class="col-md-12">

                                                <div ng-hide="HSN==null">
                                                    <div class="all-pop">
                                                        <table class="table table-bordered mb-none">
                                                            <thead class="top-border" align="center">
                                                                <tr>

                                                                    <th style="width:10%">HSNID</th>
                                                                    <th style="width:20%">HSN Desc</th>

                                                                </tr>
                                                            </thead>
                                                        </table>
                                                    </div>
                                                    <div style="max-height:180px;">

                                                        <table class="table table-bordered mb-none">

                                                            <tbody>

                                                                <tr ng-repeat="H in HSN" id="{{$index}}" ng-click="HSNClick(H,$index,cat.Noun,cat.Modifier)">

                                                                    <td style="width:10%"><label ng-bind="H.HSNID"></label></td>
                                                                    <td style="width:20%"><label ng-bind="H.Desc"></label></td>

                                                                </tr>

                                                            </tbody>
                                                        </table>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                @*<div class="col-md-12">


                    <div class="form-group">
                        <label class="col-md-2 control-label no-padding">Equipment Name</label>

                        <div class="col-md-6 control-text control-texts">
                            <input type="text" class="form-control" ng-model="Equ.Name">
                        </div>
                        <label class="col-md-2 control-label">Equipment Model No</label>

                        <div class="col-md-2 control-text control-texts no-padding">
                            <input type="text" class="form-control" ng-model="Equ.Modelno">
                        </div>
                    </div>


                    <div class="form-group">
                        <label class="col-md-2 control-label no-padding">Equipment Mfr</label>

                        <div class="col-md-6 control-text control-texts">
                            <input type="text" class="form-control" ng-model="Equ.Manufacturer">
                        </div>
                        <label class="col-md-2 control-label">Equipment Tag No</label>

                        <div class="col-md-2 control-text control-texts no-padding">
                            <input type="text" class="form-control" ng-model="Equ.Tagno">
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-2 control-label no-padding" for="inputDefault">Additional Information</label>

                        <div class="col-md-6 control-text control-texts">
                            <textarea class="form-control" rows="3" ng-model="Equ.Additionalinfo"></textarea>
                        </div>
                        <label class="col-md-2 control-label">Equipment Serial No</label>

                        <div class="col-md-2 control-text control-texts no-padding">
                            <input type="text" class="form-control" ng-model="Equ.Serialno">
                        </div>
                    </div>




            </div>*@


                            <div style="padding:15px 0px 15px 0px">
                                <div class="form-group">
                                    <div class="col-md-1">
                                        <label style="font-weight: bold; font-size: 11px">PV Remarks</label>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="label-disc" ng-class="{'has-error': form.$submitted && (form.rmrk.$invalid || form.rmrk.$error.required)}">
                                            <textarea class="form-control" @*ng-minlength="20"*@ name="pvrmrk" ng-model="cat.PVRemarks" @*ng-required="cat.Exchk==true"*@ rows="2" id="textareaDefault" capitalize></textarea>
                                        </label>
                                    </div>
                                    <div class="col-md-1">
                                        <label style="font-weight: bold; font-size: 11px">Remarks</label>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="label-disc">
                                            <div style="padding: 0;margin: 0;" class="form-group">
                                                <label style="font-weight:700" ng-hide="cat.Remarks==null">PV User:</label> <label ng-hide="cat.Remarks==null" ng-bind="cat.Remarks" style="border: none"></label>
                                            </div>
                                            <div style="padding: 0;margin: 0;" class="form-group">
                                                <label style="font-weight:700" ng-hide="cat.RevRemarks==null">Cataloguer:</label> <label ng-hide="cat.RevRemarks==null" ng-bind="cat.RevRemarks" style="border: none"></label>
                                            </div>
                                            <label ng-hide="cat.Junk==null" ng-bind="cat.Junk" style="border: none"></label>
                                            <textarea ng-class="{'clf-error': isClf}" class="form-control" @*ng-minlength="20"*@ name="rmrk" placeholder="Enter Remarks " ng-model="cat.RelRemarks" ng-change="remarksChange()" @*ng-required="rework"*@ ng-required="isClf" rows="2" id="textareaDefault"></textarea>
                                        </label>


                                    </div>
                                    <div class="col-md-1">
                                        <label style="font-weight:bold;font-size: 11px">URL</label>
                                    </div>
                                    <div class="col-md-3"><textarea class="form-control" onkeypress="return RestrictSpace()" placeholder="URLs" ng-model="cat.Soureurl" rows="2" id="textareaDefault"></textarea>  </div>

                                </div>
                            </div>
                            </div>
                            <div id="Plant" class="tab-pane {{planttab}}">

                                <div class="col-md-12">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Plant<span style="color:red;font-weight:bold">*</span></label>

                                            <div class="col-md-7 control-texts" ng-class="{'has-error': form.$submitted && form.ddlPlant1.$invalid }">
                                                @*<input type="text" class="form-control" name="plant" ng-model="plant.Plant">*@
                                                <select class="form-control" id="ddlPlant" name="ddlPlant1" ng-model="erp.Plant" ng-options="x.Plantcode  as x.Plantname for x in PlantList">
                                                    @*<option value="" selected="selected">Select</option>*@
                                                </select>

                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Location 1</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.StorageLocation_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Location 2</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.StorageLocation2_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation2" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Location 3</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.StorageLocation2_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation3" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Location 4</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.StorageLocation2_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation4" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Location 5</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.StorageLocation2_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation5" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Price / Unit 1</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Price_Unit">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Price / Unit 2</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Price_Unit2">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Price / Unit 3</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Price_Unit3">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Price / Unit 4</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Price_Unit4">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Price / Unit 5</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Price_Unit5">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-4">

                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Material Type</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.Materialtype_">*@
                                                <select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Bin 1</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.StorageBin">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Bin 2</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.StorageBin2">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Bin 3</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.StorageBin3">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Bin 4</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.StorageBin4">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Storage Bin 5</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.StorageBin5">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Currency 1</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.Currency">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Currency 2</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.Currency2">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Currency 3</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.Currency3">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Currency 4</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.Currency4">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Currency 5</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.Currency5">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                    </div>
                                    <div class="col-md-4">

                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Material Group</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.MaterialStrategicGroup_">*@
                                                <select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.MaterialStrategicGroup" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material Strategic Group' }:true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Quantity 1</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Quantity_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Quantity 2</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Quantity2_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Quantity 3</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Quantity3_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Quantity 4</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Quantity4_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Quantity 5</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.Quantity5_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Reorder Point</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.ReOrderPoint_">
                                                @*<select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.StorageLocation" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Storage location','Plantcode': erp.Plant } :true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">MRP Type</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstoreage1.$invalid }">
                                                @*<input type="text" class="form-control" ng-model="erp.Materialtype_">*@
                                                <select class="form-control" id="ddlstoreage" name="ddlstoreage1" ng-model="erp.MRPType" ng-options="x.Code as '('+ x.Code +') '+ x.Title for x in (MasterList | filter: {'Label': 'Mrp type' } :true)">
                                                    <option value="" selected="selected">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group ">
                                            <label class="col-md-5 control-label" for="inputDefault">Max Stock Level</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlmaterial1.$invalid }">
                                                <input type="text" class="form-control" ng-model="erp.MaxStockLevel_">
                                                @*<select class="form-control" id="ddlmaterial" name="ddlmaterial1" ng-model="erp.Materialtype" ng-options="x.Code as '('+ x.Code +') '+  x.Title for x in (MasterList | filter: {'Label': 'Material type' }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-5 control-label" for="inputDefault">Safety Stock</label>

                                            <div class="col-md-7 control-text" ng-class="{'has-error': form.$submitted && form.ddlstbin.$invalid }">
                                                <input type="text" class="form-control" name="ddlstbin" ng-model="erp.SafetyStock_">
                                                @*<select class="form-control" id="ddlbin" name="ddlstbin" ng-model="erp.StorageBin" required ng-options="x.Code as x.Title for x in (MasterList | filter: {'Label': 'Storage bin','Storagelocationcode':erp.StorageLocation }:true)">
                                <option value="" selected="selected">Select</option>
                            </select>*@
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                            <div id="Unspsc" class="tab-pane {{unspscact}}">
                                <div class="row">
                                    <div class="col-md-12">
                                        @*<h4 class="access-order ng-binding">Unspsc Logic</h4>*@
                                        <div class="col-md-6">
                                            @*<div class="col-md-12  no-padding">
                            <div class="col-md-6  no-padding">
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="textareaDefault">Noun</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" disabled ng-bind="cat.exNoun" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6  no-padding">
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="textareaDefault">Modifier</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" disabled ng-bind="cat.exModifier" />
                                    </div>
                                </div>
                            </div>
                        </div>*@

                                            <div class="form-group">
                                                <label class="col-md-4 control-label" style="font-weight:700" for="textareaDefault">Noun</label>
                                                <div class="col-md-8">
                                                    <input type="text" disabled class="form-control" ng-model="cat.Noun" />
                                                </div>
                                            </div>
                                            <div class="form-group">

                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Segment Title</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].SegmentTitle" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Segment</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].Segment" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Family Title</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].FamilyTitle" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Family</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].Family" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            @*<div class="col-md-12 no-padding">
                            <div class="col-md-6  no-padding">
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="textareaDefault">Noun</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="cat.Noun" />
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6  no-padding">
                                <div class="form-group">
                                    <label class="col-md-4 control-label" for="textareaDefault">Modifier</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-bind="cat.Modifier" />
                                    </div>
                                </div>
                            </div>
                        </div>*@
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" style="font-weight:700" for="textareaDefault">Modifier</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" disabled ng-model="cat.Modifier" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Class Title</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].ClassTitle" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Class</label>
                                                <div class="col-md-8">
                                                    <input type="text" class="form-control" ng-disabled="true" ng-model="Commodities[0].Class" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Commodity Title</label>
                                                <div class="col-md-8">
                                                    <select ng-model="cat.Unspsc" class="form-control" ng-options="x.Commodity as x.CommodityTitle for x in Commodities | filter :{'Class':  clss}">
                                                        <option value="" selected="selected">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-4 control-label" for="textareaDefault">Commodity</label>
                                                <div class="col-md-8">
                                                    <div class="col-md-10 no-padding">
                                                        <input type="text" class="form-control" style="{{red_commodity}}" ng-model="cat.Unspsc" placeholder="search with ClassTitle or CommodityTitle " />
                                                    </div>
                                                    <div class="col-md-1"></div>
                                                    <button type="button" ng-show="cat.Unspsc != null" class="btn btn-xs btn-primary col-md-1" name="search" data-toggle="model" data-target="#123" ng-click="SearchCommodityTitle(cat.Unspsc)"><i class="fa fa-search"></i></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-md-6" ng-show="codeLogic">
                                        <h4 class="access-order ng-binding">Coda Logic</h4>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">Main Code</label>
                                            <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.drpMain1.$invalid }">
                                                <select ng-model="cat.Maincode" style="{{Maincode3}}" class="form-control" name="drpMain1" ng-change="getSubcode()" ng-options="x.code as x.title for x in Groupcodes">
                                                    <option value="">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">Sub Code</label>
                                            <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.drpSub1.$invalid }">
                                                <select ng-model="cat.Subcode" style="{{Subcode3}}" class="form-control" name="drpSub1" ng-change="getSubsubcode()" ng-options="x.code as x.title for x in getsubgroup">
                                                    <option value="">Select</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="col-md-4 control-label">Sub-Sub Code</label>
                                            <div class="col-md-8" ng-class="{'has-error': form.$submitted && form.drpSubsub1.$invalid }">
                                                <select ng-model="cat.Subsubcode" ng-change="subsubcodechange()" class="form-control" style="{{Subsubcode3}}" name="drpSubsub1" ng-options="x.SubSubGroupCode as x.SubSubGroupTitle for x in getSubsubgroup">
                                                    <option value="">Select</option>
                                                </select>
                                            </div>
                                        </div>

                                    </div>
                                    <div id="cotentid5" style="display:none">
                                        <div class="content">
                                            <div class="panel-body">
                                                <div class="col-md-12">
                                                    <div class="fixTableHead">
                                                        <table class="table table-bordered mb-none">
                                                            <thead class="top-border" align="center">
                                                                <tr style="width:100%">
                                                                    <th style="width:7%">Segment </th>
                                                                    <th style="width:18%">Segment Title</th>
                                                                    <th style="width:7%">Family </th>
                                                                    <th style="width:18%">Family Title</th>
                                                                    <th style="width:7%">Class</th>
                                                                    <th style="width:18%">Class Title</th>
                                                                    <th style="width:7%">Commodity</th>
                                                                    <th style="width:18%">Commodity Title</th>

                                                                </tr>
                                                            </thead>

                                                            <tbody ng-hide="COMM==null">

                                                                <tr ng-repeat="C in COMM" id="{{$index}}" ng-click="COMMClick(C,$index)" style="width:100%">

                                                                    <td style="width:7%"><label ng-bind="C.Segment"></label></td>
                                                                    <td style="width:18%" title="{{C.SegmentTitle}}"><label ng-bind="C.SegmentTitle.length >20? (C.SegmentTitle | limitTo: 20) +'...' : C.SegmentTitle"></label></td>
                                                                    <td style="width:7%"><label ng-bind="C.Family"></label></td>
                                                                    <td style="width:18%" title="{{C.FamilyTitle}}"><label ng-bind="C.FamilyTitle.length >20? (C.FamilyTitle | limitTo: 20) +'...' : C.FamilyTitle"></label></td>
                                                                    <td style="width:7%"><label ng-bind="C.Class"></label></td>
                                                                    <td style="width:18%" title="{{C.ClassTitle}}"><label ng-bind="C.ClassTitle.length >20? (C.ClassTitle | limitTo: 20) +'...' : C.ClassTitle"></label></td>
                                                                    <td style="width:7%"><label ng-bind="C.Commodity"></label></td>
                                                                    <td style="width:18%" title="{{C.CommodityTitle}}"><label ng-bind="C.CommodityTitle.length >20? (C.CommodityTitle | limitTo: 20) +'...' : C.CommodityTitle"></label></td>
                                                                </tr>

                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    @*<div >

                                    <div style="display:block;overflow-y:scroll;max-height:450px">

                                        <table class="table table-bordered mb-none">

                                        </table>

                                    </div>

                                </div>*@
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>


                            </div>




                            <div id="Attach" class="tab-pane">
                                <div class="form-group">
                                    @*<div class="col-md-1 control-text">
                    <label style="font-weight:bold">Title</label>
                </div>
                <div class="col-md-2 control-text">
                    <input type="text" ng-model="Title" class="form-control" />
                </div>*@
                                    <div class="col-md-4 control-text">
                                        <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                                            <div class="form-control" data-trigger="fileinput"><i class="glyphicon glyphicon-file fileinput-exists"></i> <span class="fileinput-filename"></span></div>
                                            <span class="input-group-addon btn btn-default btn-file" style="width: 35%;">
                                                <span class="fileinput-new" style="font-weight:bold">Select File</span><span class="fileinput-exists">Change</span>
                                                <input type="file" name="..." onchange="angular.element(this).scope().LoadFileData(this.files)">
                                            </span>
                                            <a href="#" class="input-group-addon btn btn-default fileinput-exists" data-dismiss="fileinput">Remove</a>
                                        </div>
                                    </div>
                                    <div class="col-md-5">
                                        <button type="button" name="btnAdd" class="btn btn-xs btn-primary classAdd" ng-click="addImg()" style="color:#000;">Add more files</button>
                                    </div>
                                </div>
                                <div class="form-group" ng-show="(AtttachmentList[0] !=null || imgList[0]!=null) ? true:false">
                                    <div class="col-md-8">
                                        <table id="maintable" class="table mb-none LeftPaddingRemoving">

                                            <thead class="top-border">
                                                <tr>
                                                    @*<th>Title</th>*@
                                                    <th>File Name</th>
                                                    <th>Size</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="x in AtttachmentList">
                                                    @*<td><label>{{x.Title}}</label></td>*@
                                                    <td><label>{{x.FileName}}</label></td>
                                                    <td><label>{{x.FileSize}}</label></td>
                                                    <td class="actions">
                                                        <a ng-click="Delfile($index,x._id,x.FileId)" class="on-default remove-row"><i class="fa fa-trash-alt"></i></a>
                                                        @*<a ng-click="Downloadfile(x.FileName,x.ContentType,x.FileId)" class="on-default edit-row"><i class="fa fa-download"></i></a>*@
                                                        <a ng-click="Downloadfile(x.FileName,x.ContentType,cat.Itemcode)" class="on-default edit-row"><i class="fa fa-download"></i></a>
                                                    </td>
                                                </tr>
                                                <tr ng-repeat="x in imgList">
                                                    <td><label>{{x.Title}}</label></td>
                                                    <td><label>{{x.FileName}}</label></td>
                                                    <td><label>{{x.FileSize}}</label></td>
                                                    <td class="actions">
                                                        @*<a class="on-default edit-row"><i class="fa fa-download"></i></a>*@
                                                        <a ng-click="RemoveFile($index)" class="on-default remove-row"><i class="fa fa-trash-alt"></i></a>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>


                            </div>

                            <div id="Physical" class="tab-pane">

                                <div class="col-md-12 form-group">
                                    <table class="table table-bordered mb-none" style="width: 100%;">
                                        <thead class="top-border" align="center">
                                            <tr>
                                                <th style="width:5%;">S.No</th>
                                                <th style="width:30%;">Storage Location</th>
                                                <th style="width:30%;">Storage Bin</th>
                                                <th style="width:17.5%;">System Quantity</th>
                                                <th style="width:17.5%;">Physical Quantity</th>
                                            </tr>
                                        </thead>
                                        <tbody style="width: 100%">
                                            <tr ng-repeat-start="(i, location) in cat.StorageLocations" ng-if="location.DataCollection.length">
                                                <td rowspan="{{location.DataCollection.length}}" align="center">{{i + 1}}</td>
                                                <td rowspan="{{location.DataCollection.length}}">
                                                    {{location.StorageLocation}} - {{location.StorageLocation_}}
                                                </td>
                                                <td>{{location.DataCollection[0].Observation}}</td>
                                                <td>{{location.DataCollection[0].sQty}}</td>
                                                <td>{{location.DataCollection[0].dQty}}</td>
                                            </tr>
                                            <tr ng-repeat="item in location.DataCollection.slice(1)" ng-repeat-end>
                                                <td>{{item.Observation}}</td>
                                                <td>{{item.sQty}}</td>
                                                <td>{{item.dQty}}</td>
                                            </tr>
                                        </tbody>
                                    </table>

                                    <div class="form-group">
                                        <fieldset>
                                            <legend>Quantity Check Images</legend>
                                            <div class="col-md-12">
                                                <div class="col-md-2" ng-repeat="img in cat.AssetImages.NewTagImage track by $index">
                                                    <a href="{{img}}" data-magnify="gallery" data-gallery="gallery">
                                                        <img src="{{img}}" class="img-fluid rounded" style="width: 135px; height: 140px;">
                                                    </a>
                                                </div>
                                            </div>

                                        </fieldset>
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="col-md-6 no-padding">
                                        @*<div class="form-group">
                        <label class="col-md-4 control-label no-padding">System Balance</label>
                        <div class="col-md-8 col-xs-8">
                            <input type="text" class="form-control" ng-model="cat.System_Balance" />
                        </div>
                    </div>*@
                                        @*<div class="form-group">
                        <label class="col-md-4 control-label no-padding">Description Status</label>
                        <div class="col-md-8 col-xs-8">
                            <input type="text" class="form-control" ng-model="cat.des_status" />
                        </div>
                    </div>*@
                                        <div class="form-group">
                                            <label class="col-md-4 control-label no-padding">Description Remarks</label>
                                            <div class="col-md-8 col-xs-8">
                                                <input type="text" class="form-control" ng-model="cat.des_remark" />
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-6 no-padding">
                                        @*<div class="form-group">
                        <label class="col-md-4 control-label no-padding">Physical Balance</label>
                        <div class="col-md-8 col-xs-8">
                            <input type="text" class="form-control" ng-model="cat.Phy_Balance" />
                        </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label no-padding">Barcode Status</label>
                                                    <div class="col-md-8 col-xs-8">
                                                        <input type="text" class="form-control" ng-model="cat.barcode_status" />
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <label class="col-md-4 control-label no-padding">Barcode Remarks</label>
                                                    <div class="col-md-8 col-xs-8">
                                                        <input type="text" class="form-control" ng-model="cat.barcode_rm" />
                                                    </div>
                                                </div>
                    </div>*@

                                        @*<div class="col-md-12 form-group">
                        <table class="table table-bordered mb-none" style="width: 100%;">
                            <thead class="top-border" align="center">
                                <tr class="top-tr">
                                    <th style="width:70%;">Physical Observation</th>
                                    <th style="width:30%;">No. Of Items</th>
                                </tr>
                            </thead>
                            <tbody style="width: 100%">
                                <tr ng-repeat="data in cat.Observations">
                                    <td>{{data.Observation}}</td>
                                    <td>{{data.Qty}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="form-group">
                        <fieldset>
                            <legend>Material Condition Images</legend>
                            <div class="col-md-12">
                                <div class="col-md-4" ng-repeat="img in cat.AssetImages.MatImgs track by $index">
                                    <a href="{{img}}" data-magnify="gallery" data-gallery="gallery">
                                        <img src="{{img}}" class="img-fluid rounded" style="width: 135px; height: 140px;">
                                    </a>
                                </div>
                            </div>

                        </fieldset>
                    </div>*@
                                    </div>

                                </div>
                            </div>

                            <div class="form-group" ng-show="editAction">
                                <div class="col-md-2 control-text">
                                    <label class="col-md-8 control-label no-padding" for="textareaDefault">Exceptional</label>
                                    <div class="col-md-4 no-padding">
                                        <div class="checkbox-custom checkbox-default">
                                            <input type="checkbox" ng-model="cat.Exchk" ng-click="Exceptional()" /><label for="checkboxExample1"></label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8 control-text text-center">
                                    <button type="button" class="mb-xs mt-xs mr-xs btn btn-primary" ng-click="formShortLong()">Generate Short Long</button>&nbsp;
                                    <button type="submit" class="mb-xs mt-xs mr-xs btn btn-primary">Save</button>
                                    <div id="divduplicate" style="display:none;" class="input-help1">
                                        <div style="display: block;max-height: 400px;min-width:900px;overflow-y: auto;">
                                            <i ng-click="closeData1()" class="far fa-times-circle fa-2x pull-right"></i>
                                            <h4 ng-bind="'Below item(s) already exist'"></h4>
                                            <div ng-repeat="ls in listptnodup1| orderBy:'batch'" class="item-border">
                                                <label><label style="font-weight:bold" ng-bind="'Item Code: '"></label><label ng-bind="ls.Itemcode"></label></label>
                                                <label><label style="font-weight:bold" ng-bind="'Short Desc: '"></label><label ng-bind="ls.Shortdesc"></label></label>
                                                <label><label style="font-weight:bold" ng-bind="'Long Desc: '"></label><label ng-bind="ls.Longdesc"></label></label>
                                                <label><label style="font-weight:bold;color:blue;" ng-bind="'Duplicate: '"></label><label style="color:blue;" ng-bind="ls.batch"></label><span style="color:blue;">%</span></label>
                                            </div>
                                            @*<label>Save as duplicate ?&nbsp;</label><button type="button" ng-click="writeData()">Map Duplicate</button>*@&nbsp;&nbsp;<button type="button" ng-click="NodupData()">Proceed</button>
                                        </div>
                                    </div>

                                    &nbsp;<button type="button" ng-click="SubmitData()" ng-show="sts1" class="mb-xs mt-xs mr-xs btn btn-primary">Submit</button>
                                    &nbsp;<button type="button" ng-click="Reworkbtn()" ng-show="cat.Itemcode!=null?true:false" class="mb-xs mt-xs mr-xs btn btn-primary">Rework</button>
                                    &nbsp;<button type="button" ng-click="RejectData()" class="mb-xs mt-xs mr-xs btn btn-primary">Clarification</button>
                                    &nbsp;<button type="button" ng-click="createData1('No')" @*ng-show="sts5"*@ class="mb-xs mt-xs mr-xs btn btn-primary">Send to PV</button>
                                </div>

                            </div>
                            <div>

                            </div>
                        </div>
                    </div>

                </section>
            </form>

            <div>
                <datalist id="lstEquip">

                    <option data-ng-repeat="e in Equips" value="{{e.Name}}">

                </datalist>
            </div>
        </div>


    </div>
</section>
<script src="/Scripts/angular-busy.min.js"></script>
<script src="/Scripts/ctrls/Reviewctrl.js"></script>
<script src="~/Scripts/jBox.js"></script>
<script src="~/Scripts/jquery.magnify.js"></script>